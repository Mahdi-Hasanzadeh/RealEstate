function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ContactLandlord-DoaarLqX.js","assets/index-RV5YIsxB.js","assets/index-DDnostVl.css","assets/Stack-KQcwQfyK.js","assets/styled-DolKx1nG.js","assets/TextField-CP7HvCbv.js","assets/useFormControl-x1edabWd.js","assets/List-Clvs1NRc.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{c as h,j as e,H as he,J as xe,B as i,T as n,t as me,K as se,M as ae,O as pe,o as oe,p as ue,a as b,Q as fe,R as ve,u as te,r as u,S as re,_ as ge,V as je,q as K,b as be,W as Se,X as ye,F as we,Y as ke,Z as Ce,w as Re,U as Pe,v as Q}from"./index-RV5YIsxB.js";import{L as ze}from"./loader-CgH2STng.js";import{S as j}from"./Stack-KQcwQfyK.js";import{f as Me,C as J,L as Ie}from"./formatDistanceToNow-NOdj4EQg.js";import{d as Ae}from"./Login-CKBZLppb.js";import{l as Be,S as He,M as _e,d as X,a as Z}from"./KeyboardArrowRight-BD_0AQsj.js";import{C as Fe}from"./Container-BPfE54Zb.js";import{C as Ve}from"./Checkbox-AbB0sQZ5.js";import{D as G}from"./Divider-Cyg0XNng.js";import"./styled-DolKx1nG.js";import"./useFormControl-x1edabWd.js";import"./dividerClasses-t4SbNxUS.js";const We=h(e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-8-4c0-2.76 2.24-5 5-5s5 2.24 5 5c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1"}),"BathroomRounded"),$e=h([e.jsx("path",{d:"M16.5 12h-9c-.55 0-1 .45-1 1v1h11v-1c0-.55-.45-1-1-1M7.25 8.5h4v2h-4zm5.5 0h4v2h-4z"},"0"),e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1.75 15c-.41 0-.75-.34-.75-.75v-.75h-11v.75c0 .41-.34.75-.75.75S5 16.66 5 16.25v-3.08c0-.66.25-1.26.65-1.72V9c0-1.1.9-2 2-2H11c.37 0 .72.12 1 .32.28-.2.63-.32 1-.32h3.35c1.1 0 2 .9 2 2v2.45c.4.46.65 1.06.65 1.72v3.08c0 .41-.34.75-.75.75"},"1")],"BedroomParentRounded"),De=h(e.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),Ue=h(e.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),Ee=h([e.jsx("path",{d:"M21 9c-1.1 0-2 .9-2 2v4H5v-4c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.65 1.35 3 3 3v1c0 .55.45 1 1 1s1-.45 1-1v-1h12v1c0 .55.45 1 1 1s1-.45 1-1v-1c1.65 0 3-1.35 3-3v-5c0-1.1-.9-2-2-2"},"0"),e.jsx("path",{d:"M7 11v2h10v-2c0-1.86 1.28-3.41 3-3.86V6c0-1.65-1.35-3-3-3H7C5.35 3 4 4.35 4 6v1.14c1.72.45 3 2 3 3.86"},"1")],"ChairRounded"),Ne=h(e.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),Te=h(e.jsx("path",{d:"M12.79 3H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2s2-.9 2-2v-4h3c3.57 0 6.42-3.13 5.95-6.79C18.56 5.19 15.84 3 12.79 3m.41 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2"}),"LocalParkingRounded"),Le=h(e.jsx("path",{d:"M18 2h-7.17c-.53 0-1.04.21-1.42.59L4.6 7.42c-.37.37-.6.88-.6 1.4V20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 6c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m3 0c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m3 0c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1"}),"SdStorageRounded"),qe=h(e.jsx("path",{d:"M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2m0-3h2v2H4zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2m4 1H4V5h2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2m0-3h2v2H4z"}),"StorageRounded"),Oe=h(e.jsx("path",{d:"M18 0H6C4.34 0 3 1.34 3 3v18c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V3c0-1.66-1.34-3-3-3m-4 22h-4v-1h4zm5.25-3H4.75V3h14.5z"}),"TabletAndroid"),Ye=({product:a})=>{var c,d;const x=he.find(l=>l.value==(a==null?void 0:a.RAM)),t=xe.find(l=>l.value==(a==null?void 0:a.storage)),s=[{icon:e.jsx(Oe,{fontSize:"large",color:"success"}),label:`Brand: ${(c=a==null?void 0:a.brand)==null?void 0:c.toUpperCase()}`},{icon:e.jsx(Ne,{fontSize:"large",color:"success"}),label:`Color: ${(d=a==null?void 0:a.color)==null?void 0:d.toUpperCase()}`},{icon:e.jsx(Le,{fontSize:"large",color:"success"}),label:`RAM: ${(x==null?void 0:x.name)||"N/A"}`},{icon:e.jsx(qe,{fontSize:"large",color:"success"}),label:`Storage: ${(t==null?void 0:t.name)||"N/A"}`}];return e.jsx(j,{direction:{xs:"column",sm:"row"},spacing:3,flexWrap:"wrap",justifyContent:"flex-start",mb:3,children:s.map(({icon:l,label:f},v)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"#e6f4ea",p:1.5,borderRadius:2,minWidth:160,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",cursor:"pointer",transition:"background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease","&:hover":{bgcolor:"#d4edda",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transform:"translateY(-2px)"}},children:[l,e.jsx(n,{fontWeight:"600",variant:"body1",color:"success.main",children:f})]},v))})},Ke=({date:a})=>e.jsx(i,{mt:1,mb:1,children:e.jsxs(n,{variant:"body2",color:me,children:["(",a&&Me(new Date(a))," ago)"]})});var P={},Qe=ae;Object.defineProperty(P,"__esModule",{value:!0});var ne=P.default=void 0,Je=Qe(se()),ee=e;ne=P.default=(0,Je.default)([(0,ee.jsx)("path",{d:"M18 11c.7 0 1.37.1 2 .29V10c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h6.26c-.79-1.13-1.26-2.51-1.26-4 0-3.87 3.13-7 7-7M8.9 6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1v2H8.9z"},"0"),(0,ee.jsx)("path",{d:"M18 13c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m0 2c.83 0 1.5.67 1.5 1.5S18.83 18 18 18s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5m0 6c-1.03 0-1.94-.52-2.48-1.32.73-.42 1.57-.68 2.48-.68s1.75.26 2.48.68c-.54.8-1.45 1.32-2.48 1.32"},"1")],"LockPerson");var z={},Xe=ae;Object.defineProperty(z,"__esModule",{value:!0});var ce=z.default=void 0,Ze=Xe(se()),Ge=e;ce=z.default=(0,Ze.default)((0,Ge.jsx)("path",{d:"M13 8c0-2.21-1.79-4-4-4S5 5.79 5 8s1.79 4 4 4 4-1.79 4-4m-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2M1 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4m2 0c.2-.71 3.3-2 6-2 2.69 0 5.78 1.28 6 2zm17-3v-3h3v-2h-3V7h-2v3h-3v2h3v3z"}),"PersonAddAlt");const es=()=>{const a=pe(),x=oe(),t=ue(),s=c=>{""+a.pathname.split("/").slice(2).join("/"),x(fe(a)),t(c==="login"?"/signin":"/signup")};return e.jsxs(i,{sx:{mt:5,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",px:2,textAlign:"center"},children:[e.jsx(ne,{color:"error",sx:{fontSize:80,mb:2}}),e.jsx(n,{variant:"h5",fontWeight:"bold",gutterBottom:!0,children:"Access Restricted"}),e.jsx(n,{variant:"body1",color:"text.secondary",mb:3,children:"Please log in to your account or create a new one to continue."}),e.jsxs(j,{direction:"row",spacing:2,children:[e.jsx(b,{variant:"contained",color:"primary",startIcon:e.jsx(Ae,{}),onClick:()=>s("login"),children:"Login"}),e.jsx(b,{variant:"outlined",color:"primary",startIcon:e.jsx(ce,{}),onClick:()=>s("signup"),children:"Sign Up"})]})]})},ss=Be.autoPlay(He),as=({images:a=[],title:x="",bgColor:t="#f5f5f5"})=>{const c=te().direction==="rtl",[d,l]=u.useState(0),f=a.length,v=()=>{l(m=>m+1)},w=()=>{l(m=>m-1)},k=m=>{l(m)},C={height:{sm:450,md:500},display:"block",width:"100%",overflow:"hidden",objectFit:{xs:"contain",sm:"fill"},objectPosition:"center",borderRadius:2};return e.jsxs(e.Fragment,{children:[e.jsx(re,{square:!0,elevation:1,sx:{display:"flex",alignItems:"center",height:"auto",minHeight:50,pl:2,pr:2,bgcolor:t,borderRadius:1,flexWrap:"wrap"},children:e.jsx(n,{sx:{wordBreak:"break-word",whiteSpace:"normal"},children:x})}),e.jsx(ss,{axis:c?"x-reverse":"x",index:d,onChangeIndex:k,enableMouseEvents:!0,children:a.map((m,g)=>e.jsx("div",{children:Math.abs(d-g)<=2?e.jsx(i,{component:"img",sx:C,src:m,alt:`slide-${g}`}):null},g))}),e.jsx(_e,{style:{background:t,borderRadius:1},steps:f,position:"static",activeStep:d,nextButton:e.jsxs(b,{size:"small",onClick:v,disabled:d===f-1,children:["Next",c?e.jsx(X,{}):e.jsx(Z,{})]}),backButton:e.jsxs(b,{size:"small",onClick:w,disabled:d===0,children:[c?e.jsx(Z,{}):e.jsx(X,{}),"Back"]})})]})},os=ve.memo(as),ts=u.lazy(()=>ge(()=>import("./ContactLandlord-DoaarLqX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),vs=()=>{var M,I;const{listingId:a}=je(),x=oe(),t=K(o=>o.persistData.user.userInfo),s=K(o=>o.userListing),[c,d]=u.useState(!1),[l,f]=u.useState(!1),[v,w]=u.useState(!0),k=te(),C=be(k.breakpoints.down("sm"));u.useEffect(()=>{var o,r;if(t){const p=a.split(","),S=p[0],R=(o=p[1])==null?void 0:o.toLowerCase(),y=(r=p[2])==null?void 0:r.toLowerCase();x(Se({id:S,mainCategory:R,subCategory:y,currentUserId:t.id}))}},[]),u.useEffect(()=>{var o;if(s!=null&&s.data&&a){const r=a.split(",")[0],p=(o=s.data.favorites)==null?void 0:o.includes(r);d(p)}},[s==null?void 0:s.data,a]);const m=async()=>{var o;f(!0),a.split(",")[0];try{if(!(await Re.put(`${Pe}api/user/update/${t.id}`,{favorites:s.data._id,removeFavorites:c},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).data)throw new Error("Failed to update favorites");Q.success(c?"Removed from favorites":"Added to favorites"),d(p=>!p)}catch(r){Q.error(((o=r==null?void 0:r.response)==null?void 0:o.data.message)||r.message)}finally{f(!1)}},g=()=>{var y,A,B,H,_,F,V,W,$,D,U,E,N,T,L,q,O,Y;const o=((A=(y=s==null?void 0:s.data)==null?void 0:y.mainCategoryName)==null?void 0:A.toLowerCase())==="estate",r=((B=s==null?void 0:s.data)==null?void 0:B.type)==="rent",p=((H=s==null?void 0:s.data)==null?void 0:H.subCategoryName)===ke,S=(_=s==null?void 0:s.data)==null?void 0:_.offer,R=S&&((F=s.data)!=null&&F.regularPrice)?Math.round((s.data.regularPrice-s.data.discountPrice)/s.data.regularPrice*100):0;return e.jsxs(re,{sx:{backgroundColor:"#f5f5f5",borderRadius:2,p:{xs:3,md:5}},children:[e.jsxs(j,{direction:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"},justifyContent:"space-between",spacing:2,children:[e.jsxs(i,{children:[e.jsxs(i,{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,children:[S?e.jsxs(e.Fragment,{children:[e.jsxs(n,{variant:"h5",component:"span",color:"text.secondary",sx:{textDecoration:"line-through"},children:[(V=s.data)==null?void 0:V.regularPrice," AF"]}),e.jsxs(n,{variant:"h4",component:"span",color:"success.main",fontWeight:600,children:[(W=s.data)==null?void 0:W.discountPrice," AF"]}),o&&r&&e.jsx(n,{component:"span",color:"text.secondary",children:"/ month"}),e.jsx(J,{label:`${R}% Off`,color:"info",size:"small",sx:{ml:1,fontWeight:500}})]}):e.jsxs(e.Fragment,{children:[e.jsxs(n,{variant:"h4",component:"span",color:"primary.main",fontWeight:500,children:[($=s.data)==null?void 0:$.regularPrice," AF"]}),o&&r&&e.jsx(n,{component:"span",color:"text.secondary",children:"/ month"})]}),e.jsx(i,{ml:2,children:e.jsx(Ke,{date:(D=s==null?void 0:s.data)==null?void 0:D.createdAt})})]}),o&&e.jsx(J,{label:o?r?"For Rent":"For Sale":"",color:r?"warning":"success",size:"medium",sx:{fontWeight:"bold",fontSize:16,mt:.5,borderRadius:2}})]}),t.id!==s.data.userRef&&e.jsx(Ce,{title:c?"Remove from Favorites":"Add to Favorites",children:e.jsx(Ve,{disabled:l,icon:e.jsx(Ue,{}),checkedIcon:e.jsx(De,{color:"primary"}),checked:c,onChange:m,size:"large",sx:{ml:{md:2}},inputProps:{"aria-label":"add to favorites"}})})]}),e.jsxs(j,{direction:"row",alignItems:"center",spacing:1,mt:3,flexWrap:"wrap",maxWidth:"100%",children:[e.jsx(Ie,{color:"success",fontSize:"medium"}),e.jsx(n,{variant:"subtitle1",color:"text.secondary",fontWeight:600,sx:{wordBreak:"break-word"},children:(U=s.data)==null?void 0:U.address})]}),e.jsxs(i,{mt:4,sx:{fontSize:18,lineHeight:1.6,color:"#555",overflowWrap:"break-word"},children:[e.jsx(n,{variant:"body1",sx:{fontWeight:"bold",mb:1},children:"Description:"}),e.jsx(n,{variant:"body2",sx:{whiteSpace:"pre-line",wordBreak:"break-word"},children:((E=s.data)==null?void 0:E.description)||"No description available."})]}),e.jsx(G,{sx:{my:4}}),o&&e.jsx(j,{direction:{xs:"column",sm:"row"},spacing:3,flexWrap:"wrap",justifyContent:"start",mb:3,children:[{icon:e.jsx($e,{fontSize:"large",color:"success"}),label:`${(N=s.data)==null?void 0:N.bedrooms} bed${((T=s.data)==null?void 0:T.bedrooms)!==1?"s":""}`},{icon:e.jsx(We,{fontSize:"large",color:"success"}),label:`${(L=s.data)==null?void 0:L.bath} bath${((q=s.data)==null?void 0:q.bath)!==1?"s":""}`},{icon:e.jsx(Te,{fontSize:"large",color:"success"}),label:(O=s.data)!=null&&O.parking?"Parking spot":"No Parking"},{icon:e.jsx(Ee,{fontSize:"large",color:"success"}),label:(Y=s.data)!=null&&Y.furnished?"Furnished":"Unfurnished"}].map(({icon:ie,label:de},le)=>e.jsxs(i,{sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"#e6f4ea",p:1.5,borderRadius:2,minWidth:140,boxShadow:"0 2px 8px rgba(0,0,0,0.05)",cursor:"pointer",transition:"background-color 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease","&:hover":{bgcolor:"#d4edda",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transform:"translateY(-2px)"}},children:[ie,e.jsx(n,{fontWeight:"600",variant:"body1",color:"success.main",children:de})]},le))}),p&&e.jsx(Ye,{product:s==null?void 0:s.data}),e.jsx(G,{sx:{my:3}}),t.id!==s.data.userRef&&v&&e.jsx(i,{sx:{mt:2,textAlign:"left"},children:e.jsx(b,{onClick:()=>w(!1),variant:"contained",size:"small",sx:{borderRadius:2,fontWeight:"bold",py:1,px:3,background:"linear-gradient(90deg, rgba(21,101,192,1) 0%, rgba(25,118,210,1) 100%)","&:hover":{background:"linear-gradient(90deg, rgba(17,83,160,1) 0%, rgba(21,101,192,1) 100%)"},boxShadow:"0 3px 10px rgb(25 118 210 / 0.4)"},children:"Contact Seller"})})]})};return t?e.jsx(e.Fragment,{children:s.loading?e.jsx(i,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"90dvh"},children:e.jsx(ze,{})}):s.success===!1?e.jsx(ye,{error:s==null?void 0:s.error}):s.success&&!s.error&&e.jsxs(Fe,{maxWidth:"lg",sx:{py:5},children:[e.jsx(i,{mb:4,children:e.jsx(os,{images:((M=s.data)==null?void 0:M.imageURLs)||[],title:(I=s.data)==null?void 0:I.name})}),e.jsx(g,{}),e.jsx(u.Suspense,{fallback:e.jsx(we,{}),children:!v&&e.jsx(i,{mt:4,children:e.jsx(ts,{userRef:s.data.userRef,name:s.data.name,isSmall:C})})})]})}):e.jsx(es,{})};export{vs as default};
