function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Card-YiB0hoWv.js","assets/index-D5iIMIKd.js","assets/index-B3EqNP97.css","assets/Zoom-Cv-dUA3Y.js","assets/formatDistanceToNow-aDLjEcHe.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{o as E,n as Z,q,Y as Q,Z as J,v as S,$ as M,a0 as V,r as l,x as K,y as X,a1 as G,a2 as ee,a3 as te,j as t,z as H,A as se,_ as ae,a4 as re,g as ne,u as le,a as oe,d,T as m,h as ie,a5 as ce,k as R,f as de}from"./index-D5iIMIKd.js";import{a as N,U}from"./PortConfig-CL2sLOPV.js";import{G as z,F as y,C as b}from"./Grid-tX7cIChh.js";import{Z as ue}from"./Zoom-Cv-dUA3Y.js";import"./styled-p7CeRDTF.js";const pe=E("MuiListItemIcon",["root","alignItemsFlexStart"]),D=pe,me=E("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Y=me;function ge(e){return Z("MuiMenuItem",e)}const fe=E("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),k=fe,xe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],he=(e,n)=>{const{ownerState:a}=e;return[n.root,a.dense&&n.dense,a.divider&&n.divider,!a.disableGutters&&n.gutters]},ye=e=>{const{disabled:n,dense:a,divider:p,disableGutters:f,selected:x,classes:o}=e,g=se({root:["root",a&&"dense",n&&"disabled",!f&&"gutters",p&&"divider",x&&"selected"]},ge,o);return S({},o,g)},be=q(Q,{shouldForwardProp:e=>J(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:he})(({theme:e,ownerState:n})=>S({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:M(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${k.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:M(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${k.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:M(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:M(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${k.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${V.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${V.inset}`]:{marginLeft:52},[`& .${Y.root}`]:{marginTop:0,marginBottom:0},[`& .${Y.inset}`]:{paddingLeft:36},[`& .${D.root}`]:{minWidth:36}},!n.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&S({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${D.root} svg`]:{fontSize:"1.25rem"}}))),je=l.forwardRef(function(n,a){const p=K({props:n,name:"MuiMenuItem"}),{autoFocus:f=!1,component:x="li",dense:o=!1,divider:j=!1,disableGutters:g=!1,focusVisibleClassName:$,role:T="menuitem",tabIndex:v,className:u}=p,O=X(p,xe),L=l.useContext(G),h=l.useMemo(()=>({dense:o||L.dense||!1,disableGutters:g}),[L.dense,o,g]),r=l.useRef(null);ee(()=>{f&&r.current&&r.current.focus()},[f]);const c=S({},p,{dense:h.dense,divider:j,disableGutters:g}),C=ye(p),F=te(r,a);let P;return p.disabled||(P=v!==void 0?v:-1),t.jsx(G.Provider,{value:h,children:t.jsx(be,S({ref:F,role:T,tabIndex:P,component:x,focusVisibleClassName:H(C.focusVisible,$),className:H(C.root,u)},O,{ownerState:c,classes:C}))})}),ve=je,Ce=l.lazy(()=>ae(()=>import("./Card-YiB0hoWv.js"),__vite__mapDeps([0,1,2,3,4]))),ke=[{name:"LATEST",value:"createdAt_desc"},{name:"OLDEST",value:"createdAt_asc"},{name:"PRICE LOW TO HIGH",value:"regularPrice_asc"},{name:"PRICE HIGH TO LOW",value:"regularPrice_desc"}];var I=0;const Le=()=>{const[e,n]=l.useState({searchTerm:"",type:"all",offer:!1,parking:!1,furnished:!1,sort:"desc",order:"createdAt"}),[a,p]=re(),[f,x]=l.useState(!1),[o,j]=l.useState({}),[g,$]=l.useState(!1),[T,v]=l.useState(null),[u,O]=l.useState(!1),L=ne(),h=le(),r=oe(h.breakpoints.down("md")),c=s=>{n(i=>{if(s.target.name==="sort_order"){const _=s.target.value.split("_")[0],w=s.target.value.split("_")[1];return{...i,sort:w,order:_}}if(s.target.name==="offer"||s.target.name==="parking"||s.target.name==="furnished")return{...i,[s.target.name]:s.target.name==="offer"?!e.offer:s.target.name==="parking"?!e.parking:!e.furnished};if(s.target.name==="type")return{...i,[s.target.name]:s.target.value};if(s.target.name==="searchTerm")return{...i,[s.target.name]:s.target.value}})},C=async()=>{try{$(!0);const s=await N.get(`${U}api/listing/get?${a.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});s.data.listings.length>8&&x(!0),j(s.data.listings),v(null)}catch(s){v(s.message)}finally{$(!1)}};l.useEffect(()=>{const s=a.get("searchTerm"),i=a.get("type"),_=a.get("parking"),w=a.get("furnished"),A=a.get("order"),B=a.get("sort"),W=a.get("offer");n({searchTerm:s??"",type:i??"all",parking:!(_==null||_=="false"),furnished:!(w==null||w=="false"),order:A??"createdAt",sort:B??"desc",offer:!(W==null||W=="false")}),I=0,C()},[location.search]);const F=()=>{a.set("searchTerm",e.searchTerm),a.set("type",e.type),a.set("parking",e.parking),a.set("furnished",e.furnished),a.set("offer",e.offer),a.set("sort",e.sort),a.set("order",e.order),L(`/search?${a.toString()}`)},P=async()=>{const s=await N.get(`${U}api/listing/get?${a.toString()}&startIndex=${o.length}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});I=0,j([...o,...s.data.listings]),s.data.listings.length<9&&x(!1)};return l.useEffect(()=>{r||O(!0)},[r]),t.jsx(t.Fragment,{children:t.jsx(d,{children:t.jsxs(z,{container:!0,children:[u&&t.jsx(ue,{in:u,mountOnEnter:!0,unmountOnExit:!0,style:{transitionDelay:u?"500ms":"0ms"},children:t.jsxs(z,{sx:{position:r?"static":"fixed",top:70,left:0,bottom:0,width:"100%",overflowY:"auto",paddingRight:h.spacing(2),padding:r?.5:2,borderRight:r?"0px":"1px solid gray",minHeight:r?0:"91.2vh"},item:!0,xs:12,md:3,children:[t.jsxs(d,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2},children:[t.jsx(m,{component:"label",children:"Search:"}),t.jsx(ie,{variant:"outlined",size:"small",name:"searchTerm",value:e.searchTerm,onChange:c,placeholder:"type here...",children:"Search"})]}),t.jsx(m,{mt:2,component:"label",display:"block",children:"Type:"}),t.jsxs(d,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:[t.jsx(y,{value:"all",label:"Rent & Sale",labelPlacement:"end",name:"type",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="all"})}),t.jsx(y,{value:"rent",label:"Rent",labelPlacement:"end",name:"type",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="rent"})}),t.jsx(y,{value:"sell",label:"Sell",labelPlacement:"end",name:"type",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="sell"})})]}),t.jsx(m,{mt:2,component:"label",display:"block",children:"Special:"}),t.jsx(d,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:t.jsx(y,{value:e.offer,label:"Offer",labelPlacement:"end",name:"offer",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:!!(e!=null&&e.offer)})})}),t.jsx(m,{mt:2,component:"label",display:"block",children:"Amenties:"}),t.jsxs(d,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:[t.jsx(y,{value:e.parking,label:"Parking",labelPlacement:"end",name:"parking",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.parking})}),t.jsx(y,{value:e.furnished,label:"furnished",labelPlacement:"end",name:"furnished",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.furnished})})]}),t.jsx(m,{mt:2,mb:1,component:"label",display:"block",mr:.5,children:"Sort:"}),t.jsx(d,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:t.jsx(ce,{id:"demo-simple-select",name:"sort_order",defaultValue:"createdAt_desc",value:`${e.order}_${e.sort}`,size:"small",fullWidth:!0,onChange:c,children:ke.map((s,i)=>t.jsx(ve,{value:s.value,children:s.name},i))})}),t.jsx(d,{children:t.jsx(R,{onClick:F,fullWidth:!0,variant:"contained",children:"Search"})})]})}),r&&t.jsx(R,{size:"small",sx:{mt:u?0:10,color:u?"red":"green"},onClick:()=>{O(!u)},children:u?"Close Filter Section":"Open Filter Section"}),t.jsx(z,{sx:{position:r?"static":"relative",top:70,marginLeft:"auto",paddingLeft:r?0:h.spacing(3),width:"100%",overflowY:"auto"},item:!0,xs:12,md:9,children:t.jsx(d,{children:g?t.jsx(m,{children:"Loading..."}):T!==null?t.jsx(m,{children:T}):o.length===0?t.jsx(d,{sx:{padding:3},children:t.jsx(m,{variant:"h4",color:"red",textAlign:"center",children:"No result found"})}):t.jsxs(t.Fragment,{children:[t.jsx(d,{sx:{padding:2,display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:4},children:o.length>0&&o.map((s,i)=>(I=I+20,t.jsx(l.Suspense,{fallback:t.jsx(de,{}),children:t.jsx(Ce,{listing:s,transition:!0,delay:I})},i)))}),f&&t.jsx(R,{onClick:P,children:"Show more..."})]})})})]})})})};export{Le as default};
