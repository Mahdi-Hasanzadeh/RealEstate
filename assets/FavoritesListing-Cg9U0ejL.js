import{r,f,j as e,B as o,$ as m,T as j,L as y,c as d,U as g,k as v}from"./index-CiIZgPDR.js";import{C as L}from"./Container-DPr0iZDT.js";import{Z as I}from"./Zoom-B4GVGZZ4.js";import"./styled-BAVA0Wq_.js";const R=()=>{const[x,l]=r.useState(!1),[a,i]=r.useState(null),h=f(s=>s.persistData.user.userInfo),[n,c]=r.useState([]),u=async()=>{l(!0);try{const s=await d.get(`${g}api/user/userInfo/${h.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(s.data.favorites.length==0){c([]),i(null);return}const t=s.data.favorites.join(",").toString(),p=await d.get(`${g}api/listing/favoriteListings?ListingsId=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});c(p.data),i(null)}catch(s){i(s.message),v.error(s.message)}finally{l(!1)}};return r.useEffect(()=>{u()},[]),e.jsxs(L,{maxWidth:"xl",children:[e.jsx("h2",{style:{color:"green",textAlign:"center"},children:"Your Favorites"}),x?e.jsx("div",{children:e.jsx("h3",{children:"Loading..."})}):a!=null?e.jsx("div",{children:e.jsx("h3",{children:a})}):n.length==0?e.jsx("div",{children:e.jsx("h3",{children:"No Favorites"})}):n.length>0&&a==null&&e.jsx(o,{sx:{display:"flex",justifyContent:"center",gap:2,flexWrap:"wrap"},children:n.map((s,t)=>e.jsx(I,{in:!0,style:{transitionDelay:`${500+t*200}ms`},children:e.jsx(o,{className:"color",sx:{maxWidth:400,width:400,heigth:400,display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",padding:2,backgroundColor:m,borderRadius:3,gap:1.5,flexWrap:{xs:"wrap",sm:"nowrap"}},children:e.jsxs(o,{children:[e.jsx(j,{variant:"body1",sx:{textAlign:"center"},mb:1,children:s.name}),e.jsx(y,{style:{padding:0,margin:0},to:`/listing/${s._id}`,children:e.jsx("img",{className:"cardImage",srcSet:s.imageURLs[0],alt:s.name,width:"100%",height:"200px",style:{objectPosition:"center",objectFit:"fill",borderRadius:"5px"}})})]})})},t))})]})};export{R as default};
