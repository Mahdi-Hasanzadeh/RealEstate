function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ContactLandlord-Cv4yPOuf.js","assets/index-B5lp3evd.js","assets/index-DDnostVl.css","assets/TextField-B_elwkSM.js","assets/useFormControl-B6FoJptF.js","assets/isMuiElement-Cht4bAAw.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{d as x,j as e,V as ie,W as le,X as ce,B as r,T as o,a as de,Y as xe,w as O,x as he,z as g,Z as me,r as f,_ as fe,$ as ve,y as N,u as je,b as pe,a0 as ue,F as W,a1 as ge,a2 as $,a3 as b,a4 as ye,a5 as be,c as Ce,U as Se,A as u}from"./index-B5lp3evd.js";import{l as ke,S as Re,M as Ae,d as L,a as q}from"./index-DxDP3fqJ.js";import{L as we}from"./loader-BgHL1twO.js";import{r as Me}from"./createSvgIcon-KNrI_raX.js";import{f as Be,L as He}from"./formatDistanceToNow-CfXYwsai.js";import{E as Ie}from"./Error-c6DiyMGS.js";import{C as Pe}from"./Container-Buy3LPWA.js";import{C as Ve}from"./Checkbox-C1So7GVP.js";import{D as G}from"./Divider-DbdeIw_G.js";import"./isMuiElement-Cht4bAAw.js";import"./styled-Dql5uali.js";import"./useFormControl-B6FoJptF.js";import"./dividerClasses-CZy7qOj-.js";const ze=x(e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-8-4c0-2.76 2.24-5 5-5s5 2.24 5 5c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1"}),"BathroomRounded"),Fe=x([e.jsx("path",{d:"M16.5 12h-9c-.55 0-1 .45-1 1v1h11v-1c0-.55-.45-1-1-1M7.25 8.5h4v2h-4zm5.5 0h4v2h-4z"},"0"),e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1.75 15c-.41 0-.75-.34-.75-.75v-.75h-11v.75c0 .41-.34.75-.75.75S5 16.66 5 16.25v-3.08c0-.66.25-1.26.65-1.72V9c0-1.1.9-2 2-2H11c.37 0 .72.12 1 .32.28-.2.63-.32 1-.32h3.35c1.1 0 2 .9 2 2v2.45c.4.46.65 1.06.65 1.72v3.08c0 .41-.34.75-.75.75"},"1")],"BedroomParentRounded"),_e=x(e.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),De=x(e.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),Te=x([e.jsx("path",{d:"M21 9c-1.1 0-2 .9-2 2v4H5v-4c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.65 1.35 3 3 3v1c0 .55.45 1 1 1s1-.45 1-1v-1h12v1c0 .55.45 1 1 1s1-.45 1-1v-1c1.65 0 3-1.35 3-3v-5c0-1.1-.9-2-2-2"},"0"),e.jsx("path",{d:"M7 11v2h10v-2c0-1.86 1.28-3.41 3-3.86V6c0-1.65-1.35-3-3-3H7C5.35 3 4 4.35 4 6v1.14c1.72.45 3 2 3 3.86"},"1")],"ChairRounded"),Ue=x(e.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9c.83 0 1.5-.67 1.5-1.5 0-.39-.15-.74-.39-1.01-.23-.26-.38-.61-.38-.99 0-.83.67-1.5 1.5-1.5H16c2.76 0 5-2.24 5-5 0-4.42-4.03-8-9-8m-5.5 9c-.83 0-1.5-.67-1.5-1.5S5.67 9 6.5 9 8 9.67 8 10.5 7.33 12 6.5 12m3-4C8.67 8 8 7.33 8 6.5S8.67 5 9.5 5s1.5.67 1.5 1.5S10.33 8 9.5 8m5 0c-.83 0-1.5-.67-1.5-1.5S13.67 5 14.5 5s1.5.67 1.5 1.5S15.33 8 14.5 8m3 4c-.83 0-1.5-.67-1.5-1.5S16.67 9 17.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"ColorLens"),Ee=x(e.jsx("path",{d:"M12.79 3H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2s2-.9 2-2v-4h3c3.57 0 6.42-3.13 5.95-6.79C18.56 5.19 15.84 3 12.79 3m.41 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2"}),"LocalParkingRounded"),Ne=x(e.jsx("path",{d:"M18 2h-7.17c-.53 0-1.04.21-1.42.59L4.6 7.42c-.37.37-.6.88-.6 1.4V20c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-7 6c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m3 0c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m3 0c-.55 0-1-.45-1-1V5c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1"}),"SdStorageRounded"),We=x(e.jsx("path",{d:"M18 0H6C4.34 0 3 1.34 3 3v18c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V3c0-1.66-1.34-3-3-3m-4 22h-4v-1h4zm5.25-3H4.75V3h14.5z"}),"TabletAndroid");var C={},$e=ie;Object.defineProperty(C,"__esModule",{value:!0});var Y=C.default=void 0,Le=$e(Me()),qe=e;Y=C.default=(0,Le.default)((0,qe.jsx)("path",{d:"M4 20h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2m0-3h2v2H4zM2 6c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2m4 1H4V5h2zm-2 7h16c1.1 0 2-.9 2-2s-.9-2-2-2H4c-1.1 0-2 .9-2 2s.9 2 2 2m0-3h2v2H4z"}),"StorageRounded");const Ge=({product:s})=>{const v=le.filter(h=>h.value==(s==null?void 0:s.RAM))[0],l=ce.filter(h=>h.value==(s==null?void 0:s.storage))[0];return e.jsx(e.Fragment,{children:e.jsxs(r,{sx:{display:"grid",gridTemplateColumns:{sm:"1fr",md:"1fr 1fr"},gap:2},children:[e.jsxs(o,{variant:"h6",children:[e.jsx(We,{color:"primary",sx:{verticalAlign:"middle"}})," ","Brand: ",s==null?void 0:s.brand.toUpperCase()]}),e.jsxs(o,{variant:"h6",children:[e.jsx(Ue,{color:"primary",sx:{verticalAlign:"middle"}})," ","Color: ",s==null?void 0:s.color.toUpperCase()]}),e.jsxs(o,{variant:"h6",sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ne,{color:"primary",sx:{verticalAlign:"middle"}})," ","RAM: ",v.name]}),e.jsxs(o,{variant:"h6",children:[e.jsx(Y,{color:"primary",sx:{verticalAlign:"middle"}})," ","Storage: ",l.name]})]})})},Oe=({date:s})=>e.jsx(r,{mt:1,mb:1,children:e.jsxs(o,{variant:"body2",color:de,children:["(",s&&Be(new Date(s))," ago)"]})}),Ye=()=>{const s=xe(),v=O(),l=he(),h=m=>{""+s.pathname.split("/").slice(2).join("/"),v(me(s)),m=="login"?l("/signin"):l("/signup")};return e.jsxs(r,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,minHeight:"90dvh"},children:[e.jsx(o,{sx:{textAlign:"center",mb:1.5,fontWeight:"bold",fontStyle:"italic"},variant:"h5",children:"Please first login to your account or create a new one"}),e.jsxs(r,{sx:{display:"flex",justifyContent:"center",columnGap:2},children:[e.jsx(g,{variant:"contained",onClick:()=>{h("login")},size:"small",children:"Login"}),e.jsx(g,{variant:"contained",onClick:()=>{h("signup")},size:"small",children:"Sign up"})]})]})},Ke=f.lazy(()=>fe(()=>import("./ContactLandlord-Cv4yPOuf.js"),__vite__mapDeps([0,1,2,3,4,5]))),Qe=ke.autoPlay(Re),da=()=>{var M,B,H;const[s,v]=f.useState(0),{listingId:l}=ve(),h=O(),m=N(t=>t.persistData.user.userInfo),a=N(t=>t.userListing),[j,S]=f.useState(null),[K,k]=f.useState(!1),[R,Q]=f.useState(!0),y=je(),A=pe(y.breakpoints.down("sm")),w=((B=(M=a==null?void 0:a.data)==null?void 0:M.imageURLs)==null?void 0:B.length)||0;f.useEffect(()=>{var t,i;if(m){const n=l.split(","),p=n[0],c=(t=n[1])==null?void 0:t.toLowerCase(),d=(i=n[2])==null?void 0:i.toLowerCase();h(ue({id:p,mainCategory:c,subCategory:d,currentUserId:m.id}))}},[]);const X=()=>{Q(!1)},Z=async()=>{var t,i,n,p;k(!0);try{if(!(await Ce.put(`${Se}api/user/update/${m.id}`,{favorites:a.data._id,removeFavorites:j?!0:j==!1?!1:!!((t=a==null?void 0:a.data)!=null&&t.favorites.find(d=>d==l))},{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}})).data)throw new Error("Add to favorites Failed");j==null?((i=a==null?void 0:a.data)!=null&&i.favorites.find(d=>d==l)?u.error("Removed from favorites",{autoClose:2e3}):u.success("Added to favorites",{autoClose:2e3}),S(!((n=a==null?void 0:a.data)!=null&&n.favorites.find(d=>d==l)))):(j?u.error("Removed from favorites",{autoClose:2e3}):u.success("Added to favorites",{autoClose:2e3}),S(!j))}catch(c){u.error(((p=c==null?void 0:c.response)==null?void 0:p.data.message)||c.message,{autoClose:3e3})}finally{k(!1)}},J=()=>{v(t=>t+1)},ee=()=>{v(t=>t-1)},ae=t=>{v(t)},se={height:{sm:450,md:500},display:"block",width:"100%",overflow:"hidden",objectFit:{xs:"contain",sm:"fill"},objectPosition:"center"},te={backgroundColor:"GrayText",width:"50%",mt:3,mb:3},re=j==!0?!0:j==!1?!1:!!((H=a==null?void 0:a.data)!=null&&H.favorites.find(t=>t==l.split(",")[0])),oe=()=>{var t;return e.jsxs(e.Fragment,{children:[e.jsx(ge,{square:!0,elevation:1,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:$,mt:5},children:e.jsx(o,{children:a.data.name})}),e.jsx(Qe,{axis:y.direction==="rtl"?"x-reverse":"x",index:s,onChangeIndex:ae,enableMouseEvents:!0,children:(t=a.data)==null?void 0:t.imageURLs.map((i,n)=>e.jsx("div",{children:Math.abs(s-n)<=2?e.jsx(r,{component:"img",sx:se,src:i,alt:i}):null},n))}),e.jsx(Ae,{style:{background:$,borderRadius:"5px"},steps:w,position:"static",activeStep:s,nextButton:e.jsxs(g,{size:"small",onClick:J,disabled:s===w-1,children:["Next",y.direction==="rtl"?e.jsx(L,{}):e.jsx(q,{})]}),backButton:e.jsxs(g,{size:"small",onClick:ee,disabled:s===0,children:[y.direction==="rtl"?e.jsx(q,{}):e.jsx(L,{}),"Back"]})})]})},ne=()=>{var t,i,n,p,c,d,I,P,V,z,F,_,D,T,U,E;return e.jsxs(e.Fragment,{children:[e.jsxs(r,{sx:{display:"flex",flexWrap:"wrap",alignItems:{xs:"flex-start",md:"center"},gap:1.5},children:[e.jsxs(o,{variant:"h5",fontWeight:"bold",children:[(t=a.data)==null?void 0:t.regularPrice," AF",((i=a==null?void 0:a.data)==null?void 0:i.mainCategoryName)==b&&((n=a.data)==null?void 0:n.type)==="rent"?"/ month":null]}),e.jsx(Oe,{date:(p=a==null?void 0:a.data)==null?void 0:p.createdAt}),m.id!==a.data.userRef&&e.jsx(ye,{title:"Add to Favorites",children:e.jsx(Ve,{disabled:K,icon:e.jsx(De,{}),checkedIcon:e.jsx(_e,{}),checked:re,onClick:Z})})]}),e.jsxs(r,{mt:2,display:"flex",alignItems:"flex-end",gap:1,children:[e.jsx(He,{color:"success",sx:{verticalAlign:"middle"}}),e.jsx(o,{variant:"body1",children:(c=a.data)==null?void 0:c.address})]}),e.jsx(r,{mt:1.5,mb:1,sx:{display:"flex",alignItems:"center",gap:1},children:((d=a==null?void 0:a.data)==null?void 0:d.mainCategoryName)==b&&e.jsx(o,{variant:"body1",sx:{backgroundColor:"red",width:"200px",textAlign:"center",color:"white",fontSize:"19px",borderRadius:5},children:((I=a.data)==null?void 0:I.type)=="rent"?"Rent":"Sell"})}),e.jsx(r,{children:e.jsxs(o,{variant:"body1",width:"80%",sx:{wordWrap:"break-word",textAlign:"justify",fontFamily:"sans-serif"},children:[e.jsxs("span",{style:{fontWeight:"bold"},children:["Description:"," "]}),(P=a.data)==null?void 0:P.description]})}),e.jsx(G,{sx:{my:2}}),((V=a==null?void 0:a.data)==null?void 0:V.mainCategoryName)==b&&e.jsxs(r,{sx:{display:"flex",justifyContent:"flex-start",gap:2,alignItems:"center",flexWrap:"wrap-reverse"},children:[e.jsxs(o,{color:"green",variant:"body1",children:[e.jsx(Fe,{sx:{verticalAlign:"middle"}}),(z=a.data)==null?void 0:z.bedrooms," bed",((F=a.data)==null?void 0:F.bedrooms)!==1&&"s"]}),e.jsxs(o,{color:"green",variant:"body1",children:[e.jsx(ze,{sx:{verticalAlign:"middle"}}),(_=a.data)==null?void 0:_.bath," bath",((D=a.data)==null?void 0:D.bath)!==1&&"s"]}),e.jsxs(o,{color:"green",variant:"body1",children:[e.jsx(Ee,{sx:{verticalAlign:"middle"}}),(T=a.data)!=null&&T.parking?"Parking spot":"No Parking"]}),e.jsxs(o,{color:"green",variant:"body1",children:[e.jsx(Te,{sx:{verticalAlign:"middle"}}),(U=a.data)!=null&&U.furnished?"Furnished":"Unfurnished"]})]}),((E=a==null?void 0:a.data)==null?void 0:E.subCategoryName)==be&&e.jsx(Ge,{product:a==null?void 0:a.data}),e.jsx(G,{sx:{my:2}})]})};return m==null?e.jsx(Ye,{}):e.jsx(e.Fragment,{children:a.loading?e.jsx(r,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"90dvh"},children:e.jsx(we,{})}):a.success==!1?e.jsx(Ie,{error:a==null?void 0:a.error}):a.success&&a.error==!1&&e.jsxs(Pe,{maxWidth:"lg",children:[e.jsx(r,{sx:{mt:4},children:e.jsx(oe,{})}),e.jsxs(r,{sx:{pb:5},children:[e.jsx(ne,{}),e.jsx(f.Suspense,{fallback:e.jsx(W,{}),children:!R&&e.jsx(r,{sx:{mt:2.5},children:e.jsx(Ke,{userRef:a.data.userRef,name:a.data.name,isSmall:A})})}),e.jsx(f.Suspense,{fallback:e.jsx(W,{}),children:m.id!==a.data.userRef&&R&&e.jsx(r,{children:e.jsx(g,{onClick:X,variant:"contained",fullWidth:!0,size:A?"small":"medium",sx:te,children:"Contact Landlord"})})})]})]})})};export{da as default};
