function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Card-DqcRxdAd.js","assets/index-BWgtW--N.js","assets/index-B3EqNP97.css","assets/Zoom-CndNRskt.js","assets/formatDistanceToNow-aDLjEcHe.js","assets/NotFound-D5H_s5yT.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{n as z,m as X,p as q,X as J,Y as K,t as S,Z as F,r as o,w as ee,x as te,$ as W,a0 as se,a1 as ae,j as t,y as G,z as re,_ as Q,a2 as ne,d as oe,u as le,a as ie,B as u,T as f,f as ce,a3 as de,h as R,F as H}from"./index-BWgtW--N.js";import{a as N,U}from"./PortConfig-CL2sLOPV.js";import{G as E,F as y,C as b}from"./Grid-DKY8GWBm.js";import{Z as ue}from"./Zoom-CndNRskt.js";import{d as D}from"./dividerClasses-DBNAC9dI.js";import"./styled-BCIz7Izj.js";const pe=z("MuiListItemIcon",["root","alignItemsFlexStart"]),Y=pe,me=z("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Z=me;function fe(e){return X("MuiMenuItem",e)}const ge=z("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),k=ge,xe=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],he=(e,n)=>{const{ownerState:a}=e;return[n.root,a.dense&&n.dense,a.divider&&n.divider,!a.disableGutters&&n.gutters]},ye=e=>{const{disabled:n,dense:a,divider:p,disableGutters:g,selected:x,classes:l}=e,m=re({root:["root",a&&"dense",n&&"disabled",!g&&"gutters",p&&"divider",x&&"selected"]},fe,l);return S({},l,m)},be=q(J,{shouldForwardProp:e=>K(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:he})(({theme:e,ownerState:n})=>S({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:F(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${k.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:F(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${k.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:F(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:F(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${k.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${D.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${D.inset}`]:{marginLeft:52},[`& .${Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.inset}`]:{paddingLeft:36},[`& .${Y.root}`]:{minWidth:36}},!n.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&S({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Y.root} svg`]:{fontSize:"1.25rem"}}))),je=o.forwardRef(function(n,a){const p=ee({props:n,name:"MuiMenuItem"}),{autoFocus:g=!1,component:x="li",dense:l=!1,divider:j=!1,disableGutters:m=!1,focusVisibleClassName:$,role:T="menuitem",tabIndex:C,className:d}=p,_=te(p,xe),O=o.useContext(W),h=o.useMemo(()=>({dense:l||O.dense||!1,disableGutters:m}),[O.dense,l,m]),r=o.useRef(null);se(()=>{g&&r.current&&r.current.focus()},[g]);const c=S({},p,{dense:h.dense,divider:j,disableGutters:m}),v=ye(p),M=ae(r,a);let L;return p.disabled||(L=C!==void 0?C:-1),t.jsx(W.Provider,{value:h,children:t.jsx(be,S({ref:M,role:T,tabIndex:L,component:x,focusVisibleClassName:G(v.focusVisible,$),className:G(v.root,d)},_,{ownerState:c,classes:v}))})}),Ce=je,ve=o.lazy(()=>Q(()=>import("./Card-DqcRxdAd.js"),__vite__mapDeps([0,1,2,3,4]))),ke=o.lazy(()=>Q(()=>import("./NotFound-D5H_s5yT.js"),__vite__mapDeps([5,1,2]))),Ie=[{name:"LATEST",value:"createdAt_desc"},{name:"OLDEST",value:"createdAt_asc"},{name:"PRICE LOW TO HIGH",value:"regularPrice_asc"},{name:"PRICE HIGH TO LOW",value:"regularPrice_desc"}];var I=0;const Pe=()=>{const[e,n]=o.useState({searchTerm:"",type:"all",offer:!1,parking:!1,furnished:!1,sort:"desc",order:"createdAt"}),[a,p]=ne(),[g,x]=o.useState(!1),[l,j]=o.useState({}),[m,$]=o.useState(!1),[T,C]=o.useState(null),[d,_]=o.useState(!1),O=oe(),h=le(),r=ie(h.breakpoints.down("md")),c=s=>{n(i=>{if(s.target.name==="sort_order"){const P=s.target.value.split("_")[0],w=s.target.value.split("_")[1];return{...i,sort:w,order:P}}if(s.target.name==="offer"||s.target.name==="parking"||s.target.name==="furnished")return{...i,[s.target.name]:s.target.name==="offer"?!e.offer:s.target.name==="parking"?!e.parking:!e.furnished};if(s.target.name==="type")return{...i,[s.target.name]:s.target.value};if(s.target.name==="searchTerm")return{...i,[s.target.name]:s.target.value}})},v=async()=>{try{$(!0);const s=await N.get(`${U}api/listing/get?${a.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});s.data.listings.length>8&&x(!0),j(s.data.listings),C(null)}catch(s){C(s.message)}finally{$(!1)}};o.useEffect(()=>{const s=a.get("searchTerm"),i=a.get("type"),P=a.get("parking"),w=a.get("furnished"),B=a.get("order"),A=a.get("sort"),V=a.get("offer");n({searchTerm:s??"",type:i??"all",parking:!(P==null||P=="false"),furnished:!(w==null||w=="false"),order:B??"createdAt",sort:A??"desc",offer:!(V==null||V=="false")}),I=0,v()},[location.search]);const M=()=>{a.set("searchTerm",e.searchTerm),a.set("type",e.type),a.set("parking",e.parking),a.set("furnished",e.furnished),a.set("offer",e.offer),a.set("sort",e.sort),a.set("order",e.order),O(`/search?${a.toString()}`)},L=async()=>{const s=await N.get(`${U}api/listing/get?${a.toString()}&startIndex=${l.length}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});I=0,j([...l,...s.data.listings]),s.data.listings.length<9&&x(!1)};return o.useEffect(()=>{r||_(!0)},[r]),t.jsx(t.Fragment,{children:t.jsx(u,{children:t.jsxs(E,{container:!0,children:[d&&t.jsx(ue,{in:d,mountOnEnter:!0,unmountOnExit:!0,style:{transitionDelay:d?"500ms":"0ms"},children:t.jsxs(E,{sx:{position:r?"static":"fixed",top:70,left:0,bottom:0,width:"100%",overflowY:"auto",paddingRight:h.spacing(2),padding:r?.5:2,borderRight:r?"0px":"1px solid gray",minHeight:r?0:"91.2vh"},item:!0,xs:12,md:3,children:[t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2},children:[t.jsx(f,{component:"label",children:"Search:"}),t.jsx(ce,{variant:"outlined",size:"small",name:"searchTerm",value:e.searchTerm,onChange:c,placeholder:"type here...",children:"Search"})]}),t.jsx(f,{mt:2,component:"label",display:"block",children:"Type:"}),t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:[t.jsx(y,{value:"all",label:"Rent & Sale",labelPlacement:"end",name:"type",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="all"})}),t.jsx(y,{value:"rent",label:"Rent",labelPlacement:"end",name:"type",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="rent"})}),t.jsx(y,{value:"sell",label:"Sell",labelPlacement:"end",name:"type",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="sell"})})]}),t.jsx(f,{mt:2,component:"label",display:"block",children:"Special:"}),t.jsx(u,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:t.jsx(y,{value:e.offer,label:"Offer",labelPlacement:"end",name:"offer",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:!!(e!=null&&e.offer)})})}),t.jsx(f,{mt:2,component:"label",display:"block",children:"Amenties:"}),t.jsxs(u,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:[t.jsx(y,{value:e.parking,label:"Parking",labelPlacement:"end",name:"parking",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.parking})}),t.jsx(y,{value:e.furnished,label:"furnished",labelPlacement:"end",name:"furnished",onChange:c,control:t.jsx(b,{size:r?"small":"medium",checked:e.furnished})})]}),t.jsx(f,{mt:2,mb:1,component:"label",display:"block",mr:.5,children:"Sort:"}),t.jsx(u,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:t.jsx(de,{id:"demo-simple-select",name:"sort_order",defaultValue:"createdAt_desc",value:`${e.order}_${e.sort}`,size:"small",fullWidth:!0,onChange:c,children:Ie.map((s,i)=>t.jsx(Ce,{value:s.value,children:s.name},i))})}),t.jsx(u,{children:t.jsx(R,{onClick:M,fullWidth:!0,variant:"contained",children:"Search"})})]})}),r&&t.jsx(R,{size:"small",sx:{mt:d?0:10,color:d?"red":"green"},onClick:()=>{_(!d)},children:d?"Close Filter Section":"Open Filter Section"}),t.jsx(E,{sx:{position:r?"static":"relative",top:70,marginLeft:"auto",paddingLeft:r?0:h.spacing(3),width:"100%",overflowY:"auto"},item:!0,xs:12,md:9,children:t.jsx(u,{children:m?t.jsx(f,{children:"Loading..."}):T!==null?t.jsx(f,{children:T}):l.length==0?t.jsx(o.Suspense,{fallback:t.jsx(H,{}),children:t.jsx(ke,{})}):t.jsxs(t.Fragment,{children:[t.jsx(u,{sx:{padding:2,display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:4},children:l.length>0&&l.map((s,i)=>(I=I+20,t.jsx(o.Suspense,{fallback:t.jsx(H,{}),children:t.jsx(ve,{listing:s,transition:!0,delay:I})},i)))}),g&&t.jsx(R,{onClick:L,children:"Show more..."})]})})})]})})})};export{Pe as default};
