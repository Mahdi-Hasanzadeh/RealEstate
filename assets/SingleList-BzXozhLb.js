function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ContactUser-DqLvLnPL.js","assets/index-CI2nLLvd.js","assets/index-B3EqNP97.css","assets/PortConfig-CL2sLOPV.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{Q as i,j as a,r as o,_ as W,R as D,d as T,c as E,e as F,u as N,a as G,B as r,T as t,h as d,U as $,V as Q,b as q,F as S,i as w,W as K}from"./index-CI2nLLvd.js";import{a as O,U as Y}from"./PortConfig-CL2sLOPV.js";import{l as J,S as X,M as Z,d as C,a as k}from"./index-F5gbUb7d.js";import{C as R}from"./Container-Dau7Hifd.js";import{f as ee}from"./formatDistanceToNow-aDLjEcHe.js";import"./styled-CKtFAudq.js";const ae=i(a.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-8-4c0-2.76 2.24-5 5-5s5 2.24 5 5c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1"}),"BathroomRounded"),se=i([a.jsx("path",{d:"M16.5 12h-9c-.55 0-1 .45-1 1v1h11v-1c0-.55-.45-1-1-1M7.25 8.5h4v2h-4zm5.5 0h4v2h-4z"},"0"),a.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1.75 15c-.41 0-.75-.34-.75-.75v-.75h-11v.75c0 .41-.34.75-.75.75S5 16.66 5 16.25v-3.08c0-.66.25-1.26.65-1.72V9c0-1.1.9-2 2-2H11c.37 0 .72.12 1 .32.28-.2.63-.32 1-.32h3.35c1.1 0 2 .9 2 2v2.45c.4.46.65 1.06.65 1.72v3.08c0 .41-.34.75-.75.75"},"1")],"BedroomParentRounded"),te=i([a.jsx("path",{d:"M21 9c-1.1 0-2 .9-2 2v4H5v-4c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.65 1.35 3 3 3v1c0 .55.45 1 1 1s1-.45 1-1v-1h12v1c0 .55.45 1 1 1s1-.45 1-1v-1c1.65 0 3-1.35 3-3v-5c0-1.1-.9-2-2-2"},"0"),a.jsx("path",{d:"M7 11v2h10v-2c0-1.86 1.28-3.41 3-3.86V6c0-1.65-1.35-3-3-3H7C5.35 3 4 4.35 4 6v1.14c1.72.45 3 2 3 3.86"},"1")],"ChairRounded"),re=i(a.jsx("path",{d:"M12.79 3H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2s2-.9 2-2v-4h3c3.57 0 6.42-3.13 5.95-6.79C18.56 5.19 15.84 3 12.79 3m.41 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2"}),"LocalParkingRounded"),oe=i(a.jsx("path",{d:"M15 11V5.83c0-.53-.21-1.04-.59-1.41L12.7 2.71a.9959.9959 0 0 0-1.41 0l-1.7 1.7C9.21 4.79 9 5.3 9 5.83V7H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 8H5v-2h2zm0-4H5v-2h2zm0-4H5V9h2zm6 8h-2v-2h2zm0-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm6 12h-2v-2h2zm0-4h-2v-2h2z"}),"LocationCityRounded"),ne=o.lazy(()=>W(()=>import("./ContactUser-DqLvLnPL.js"),__vite__mapDeps([0,1,2,3]))),ce=J.autoPlay(X),ue=()=>{var y;const[c,h]=o.useState(0),{listingId:z}=D(),m=T(),A=E(),x=F(s=>s.persistData.user.userInfo),[e,L]=o.useState(null),u=((y=e==null?void 0:e.imageURLs)==null?void 0:y.length)||0,[p,j]=o.useState(null),[P,v]=o.useState(!1),[f,B]=o.useState(!0),l=N(),g=G(l.breakpoints.down("sm")),H=async()=>{if(x==null){console.log("Please login");return}v(!0);try{const s=await O.get(`${Y}api/listing/userListing/${z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(s.data.success===!1){console.log(s.data.message),w.error(s.data.message),j(s.data.message);return}L(s.data)}catch(s){console.log(s),console.log(s.message),w.error(s.message),j(s.message)}finally{v(!1)}},M=()=>{B(!1)},V=(s,n)=>s-n;o.useEffect(()=>{H()},[]);const b=s=>{const n="/"+window.location.pathname.split("/").slice(2).join("/");A(K(n)),s=="login"?m("/signin"):m("/signup")},I=()=>{h(s=>s+1)},_=()=>{h(s=>s-1)},U=s=>{h(s)};return a.jsx(a.Fragment,{children:x==null?a.jsxs(r,{sx:{position:"relative",top:50},padding:2,children:[a.jsx(t,{sx:{textAlign:"center",mb:1.5},variant:"body1",children:"Please first login to your account or create a new one"}),a.jsxs(r,{sx:{display:"flex",justifyContent:"center",columnGap:2},children:[a.jsx(d,{variant:"contained",onClick:()=>{b("login")},size:"small",children:"Login"}),a.jsx(d,{variant:"contained",onClick:()=>{b("signup")},size:"small",children:"Sign up"})]})]}):P?a.jsx("div",{style:{position:"relative",top:50,textAlign:"center"},children:a.jsx("h2",{children:"Loading..."})}):p?a.jsx("div",{style:{position:"relative",top:50,textAlign:"center"},children:a.jsx("h2",{children:p})}):e&&a.jsxs("main",{children:[a.jsx("div",{children:a.jsxs(R,{maxWidth:"lg",sx:{mt:4},children:[a.jsx($,{square:!0,elevation:1,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:Q,mt:10},children:a.jsx(t,{children:e.name})}),a.jsx(ce,{axis:l.direction==="rtl"?"x-reverse":"x",index:c,onChangeIndex:U,enableMouseEvents:!0,children:e==null?void 0:e.imageURLs.map((s,n)=>a.jsx("div",{children:Math.abs(c-n)<=2?a.jsx(r,{component:"img",sx:{height:{sm:450,md:500},display:"block",width:"100%",overflow:"hidden",objectFit:{xs:"contain",sm:"fill"},objectPosition:"center"},src:s,alt:s}):null},n))}),a.jsx(Z,{steps:u,position:"static",activeStep:c,nextButton:a.jsxs(d,{size:"small",onClick:I,disabled:c===u-1,children:["Next",l.direction==="rtl"?a.jsx(C,{}):a.jsx(k,{})]}),backButton:a.jsxs(d,{size:"small",onClick:_,disabled:c===0,children:[l.direction==="rtl"?a.jsx(k,{}):a.jsx(C,{}),"Back"]})})]})}),a.jsxs(R,{maxWidth:"lg",sx:{mb:10},children:[a.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",md:"center"},gap:1.5},children:[a.jsxs(t,{variant:"h5",fontWeight:"bold",children:[e==null?void 0:e.name," "]}),a.jsxs(t,{variant:"h5",fontWeight:"bold",children:[(e==null?void 0:e.discountPrice)==0?e==null?void 0:e.regularPrice:e==null?void 0:e.discountPrice," ",(e==null?void 0:e.type)==="rent"?"/ month":null]})]}),a.jsxs(r,{mt:2,display:"flex",alignItems:"flex-end",gap:1,children:[a.jsx(oe,{color:"success",sx:{verticalAlign:"middle"}})," ",a.jsx(t,{variant:"body1",children:e==null?void 0:e.address})," "]}),a.jsxs(r,{mt:1.5,mb:1,sx:{display:"flex",gap:1},children:[a.jsx(t,{variant:"body1",sx:{backgroundColor:"red",width:"200px",textAlign:"center",color:"white",fontSize:"19px",borderRadius:5},children:(e==null?void 0:e.type)=="rent"?"Rent":"Sell"}),(e==null?void 0:e.offer)&&a.jsx(t,{variant:"body1",sx:{backgroundColor:"green",width:"200px",textAlign:"center",color:"white",fontSize:"19px",borderRadius:5},children:"AFG "+V(e==null?void 0:e.regularPrice,e==null?void 0:e.discountPrice)})]}),a.jsx(r,{children:a.jsxs(t,{variant:"body1",width:"80%",sx:{wordWrap:"break-word",textAlign:"justify"},children:[a.jsx("span",{style:{fontWeight:"bold"},children:"Description -"})," ",e==null?void 0:e.description]})}),a.jsx(r,{mt:1,mb:1,children:a.jsxs(t,{variant:"body2",color:q,children:[(e==null?void 0:e.createdAt)&&ee(new Date(e==null?void 0:e.createdAt))," ","ago"]})}),a.jsxs(r,{sx:{display:"flex",justifyContent:"flex-start",gap:2,alignItems:"center",flexWrap:"wrap-reverse"},children:[a.jsxs(t,{color:"green",variant:"body1",children:[" ",a.jsx(se,{sx:{verticalAlign:"middle"}})," ",e==null?void 0:e.bedrooms," bed",(e==null?void 0:e.bedrooms)!==1&&"s"]}),a.jsxs(t,{color:"green",variant:"body1",children:[" ",a.jsx(ae,{sx:{verticalAlign:"middle"}})," ",e==null?void 0:e.bath," bath",(e==null?void 0:e.bath)!==1&&"s"]}),a.jsxs(t,{color:"green",variant:"body1",children:[" ",a.jsx(re,{sx:{verticalAlign:"middle"}})," ",e!=null&&e.parking?"Parking spot":"No Parking"]}),a.jsxs(t,{color:"green",variant:"body1",children:[" ",a.jsx(te,{sx:{verticalAlign:"middle"}})," ",e!=null&&e.furnished?"Furnished":"Unfurnished"]})]}),a.jsx(o.Suspense,{fallback:a.jsx(S,{}),children:!f&&a.jsx(r,{sx:{mt:2.5},children:a.jsx(ne,{userRef:e.userRef,name:e.name,isSmall:g})})}),a.jsx(o.Suspense,{fallback:a.jsx(S,{}),children:x.id!==e.userRef&&f&&a.jsx(r,{children:a.jsx(d,{onClick:M,variant:"contained",fullWidth:!0,size:g?"small":"medium",sx:{backgroundColor:"GrayText",width:"50%",mt:3},children:"Contact Landlord"})})})]})]})})};export{ue as default};
