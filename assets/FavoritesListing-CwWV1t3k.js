import{r,f as m,j as e,T as d,B as o,Z as j,L as v,c as g,U as x,k as y}from"./index-CtvXfw5C.js";import{C as L}from"./Container-BFr0vmhC.js";import{Z as I}from"./Zoom-BIgm4zra.js";import"./styled-Bkk5L4Rp.js";const R=()=>{const[h,l]=r.useState(!1),[a,i]=r.useState(null),u=m(s=>s.persistData.user.userInfo),[n,c]=r.useState([]),f=async()=>{l(!0);try{const s=await g.get(`${x}api/user/userInfo/${u.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(s.data.favorites.length==0){c([]),i(null);return}const t=s.data.favorites.join(",").toString(),p=await g.get(`${x}api/listing/favoriteListings?ListingsId=${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});c(p.data),i(null)}catch(s){i(s.message),y.error(s.message)}finally{l(!1),console.log("finally")}};return r.useEffect(()=>{f()},[]),e.jsxs(L,{maxWidth:"xl",sx:{position:"relative",top:70},children:[e.jsx(d,{variant:"h6",sx:{textAlign:"center",fontSize:"1.2em",fontWeight:"bold"},children:"Your Favorites"}),h?e.jsx("div",{children:e.jsx("h3",{children:"Loading..."})}):a!=null?e.jsx("div",{children:e.jsx("h3",{children:a})}):n.length==0?e.jsx("div",{children:e.jsx("h3",{children:"No Favorites"})}):n.length>0&&a==null&&e.jsx(o,{sx:{display:"flex",justifyContent:"center",gap:2,flexWrap:"wrap"},children:n.map((s,t)=>e.jsx(I,{in:!0,style:{transitionDelay:`${500+t*200}ms`},children:e.jsx(o,{sx:{maxWidth:400,width:400,heigth:400,display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"center",alignItems:"center",padding:2,backgroundColor:j,borderRadius:3,gap:1.5,flexWrap:{xs:"wrap",sm:"nowrap"}},children:e.jsxs(o,{children:[e.jsx(d,{variant:"body1",sx:{textAlign:"center"},mb:1,children:s.name}),e.jsx(v,{style:{padding:0,margin:0},to:`/listing/${s._id}`,children:e.jsx("img",{className:"cardImage",srcSet:s.imageURLs[0],alt:s.name,width:"100%",height:"200px",style:{objectPosition:"center",objectFit:"fill",borderRadius:"5px"}})})]})})},t))})]})};export{R as default};
