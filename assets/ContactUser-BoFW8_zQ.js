import{r,j as e,B as i,T as m,L as l,i as o,g as f,c as v,U as $}from"./index-BF8H7DTL.js";const x="+93",w=navigator.userAgent.toLowerCase(),C=({userRef:h,name:c,isSmall:a})=>{const[s,g]=r.useState(),[d,u]=r.useState(null);let j=/mobile/.test(w);const[n,b]=r.useState(""),p=t=>{b(t.target.value)},y=async()=>{try{const t=await v.get(`${$}api/user/userInfo/${h}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});g(t.data)}catch(t){u(t.message),console.log(t.message)}};return r.useEffect(()=>{y()},[]),e.jsx(e.Fragment,{children:d?e.jsx("h1",{children:d}):e.jsxs(e.Fragment,{children:[(s==null?void 0:s.mobileNumber)&&e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",columnGap:1,alignItems:"center",mb:2,justifyContent:{xs:"center",sm:"normal"}},children:[e.jsxs(m,{variant:"body1",fontWeight:"bold",fontSize:"1.1em",children:["Mobile Number: ",x,"-",s==null?void 0:s.mobileNumber.slice(1)]}),e.jsx(l,{to:`tel:+93${s==null?void 0:s.mobileNumber.slice(1)}`,children:e.jsx(o,{size:"small",variant:"contained",color:"success",children:"Call"})})]}),e.jsxs(m,{sx:{textAlign:"justify",fontSize:"1.1em"},variant:"body1",children:["Contact"," ",e.jsx("span",{style:{fontWeight:"bold"},children:s==null?void 0:s.username})," ","for",e.jsxs("span",{style:{fontWeight:"bold"},children:[" ",c||""]})," "]}),e.jsx(f,{name:"message",value:n,onChange:p,variant:"outlined",size:"small",multiline:!0,rows:5,placeholder:"Enter your message here...",sx:{width:a?"100%":"50%",mt:.3}}),e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",gap:2,py:2.5},children:[j&&e.jsx(i,{children:e.jsx(l,{to:`sms:${x}${s==null?void 0:s.mobileNumber.slice(1)}?&body=${n}`,children:e.jsx(o,{size:a?"small":"medium",variant:"contained",color:"success",sx:{width:"100%"},children:"Send Message via SMS"})})}),e.jsx(i,{children:e.jsx(l,{to:`mailto:${s==null?void 0:s.email}?subject=Regarding ${c}&body=${n}`,children:e.jsx(o,{fullWidth:!0,size:a?"small":"medium",variant:"contained",color:"success",sx:{width:"100%"},children:"Send Message via E-mail"})})})]})]})})};export{C as default};
