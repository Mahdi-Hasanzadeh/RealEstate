import{r,j as e,B as i,T as m,L as l,h as o,f as y}from"./index-CI2nLLvd.js";import{a as f,U as v}from"./PortConfig-CL2sLOPV.js";const x="+93",z=({userRef:h,name:c,isSmall:a})=>{const[s,g]=r.useState(),[d,u]=r.useState(null),[n,j]=r.useState(""),b=t=>{j(t.target.value)},p=async()=>{try{const t=await f.get(`${v}api/user/userInfo/${h}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});g(t.data)}catch(t){u(t.message),console.log(t.message)}};return r.useEffect(()=>{p()},[]),e.jsx(e.Fragment,{children:d?e.jsx("h1",{children:d}):e.jsxs(e.Fragment,{children:[(s==null?void 0:s.mobileNumber)&&e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",columnGap:1,alignItems:"center",mb:2,justifyContent:{xs:"center",sm:"normal"}},children:[e.jsxs(m,{variant:"body1",fontWeight:"bold",fontSize:"1.1em",children:["Mobile Number: ",x,"-",s==null?void 0:s.mobileNumber.slice(1)]}),e.jsx(l,{to:`tel:+93${s==null?void 0:s.mobileNumber.slice(1)}`,children:e.jsx(o,{size:"small",variant:"contained",color:"success",children:"Call"})})]}),e.jsxs(m,{sx:{textAlign:"justify",fontSize:"1.1em"},variant:"body1",children:["Contact"," ",e.jsx("span",{style:{fontWeight:"bold"},children:s==null?void 0:s.username})," ","for",e.jsxs("span",{style:{fontWeight:"bold"},children:[" ",c||""]})," "]}),e.jsx(y,{name:"message",value:n,onChange:b,variant:"outlined",size:"small",multiline:!0,rows:5,placeholder:"Enter your message here...",sx:{width:a?"100%":"50%",mt:.3}}),e.jsxs(i,{sx:{display:"flex",flexWrap:"wrap",gap:2,mt:2},children:[e.jsx(i,{children:e.jsx(l,{to:`sms:${x}${s==null?void 0:s.mobileNumber.slice(1)}?&body=${n}`,children:e.jsx(o,{size:a?"small":"medium",variant:"contained",color:"success",sx:{width:"100%"},children:"Send Message via SMS"})})}),e.jsx(i,{children:e.jsx(l,{to:`mailto:${s==null?void 0:s.email}?subject=Regarding ${c}&body=${n}`,children:e.jsx(o,{fullWidth:!0,size:a?"small":"medium",variant:"contained",color:"success",sx:{width:"100%"},children:"Send Message via E-mail"})})})]})]})})};export{z as default};
