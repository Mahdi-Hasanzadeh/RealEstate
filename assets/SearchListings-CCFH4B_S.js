function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Card-CsTsOkI5.js","assets/index-CtvXfw5C.js","assets/index-B3EqNP97.css","assets/Zoom-BIgm4zra.js","assets/formatDistanceToNow-aDLjEcHe.js","assets/NotFound-Czbnq1yp.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{o as z,n as J,q as K,a1 as X,a2 as ee,v as I,a3 as P,r as o,x as te,y as se,a4 as W,a5 as ae,a6 as re,j as t,z as G,A as ne,_ as q,a7 as oe,V as le,e as ie,u as ce,a as de,B as u,T as x,g as ue,a8 as pe,i as R,F as H,c as N,U}from"./index-CtvXfw5C.js";import{G as E,F as y}from"./Grid-yzLlcPMT.js";import{Z as me}from"./Zoom-BIgm4zra.js";import{C as b}from"./Checkbox-FqLGr619.js";import{d as D}from"./dividerClasses--TLeSrUU.js";import"./styled-Bkk5L4Rp.js";const fe=z("MuiListItemIcon",["root","alignItemsFlexStart"]),Y=fe,ge=z("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Z=ge;function xe(e){return J("MuiMenuItem",e)}const he=z("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),k=he,ye=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],be=(e,n)=>{const{ownerState:a}=e;return[n.root,a.dense&&n.dense,a.divider&&n.divider,!a.disableGutters&&n.gutters]},je=e=>{const{disabled:n,dense:a,divider:p,disableGutters:h,selected:j,classes:c}=e,f=ne({root:["root",a&&"dense",n&&"disabled",!h&&"gutters",p&&"divider",j&&"selected"]},xe,c);return I({},c,f)},ve=K(X,{shouldForwardProp:e=>ee(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:be})(({theme:e,ownerState:n})=>I({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${k.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${k.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${k.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${D.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${D.inset}`]:{marginLeft:52},[`& .${Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.inset}`]:{paddingLeft:36},[`& .${Y.root}`]:{minWidth:36}},!n.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&I({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Y.root} svg`]:{fontSize:"1.25rem"}}))),Ce=o.forwardRef(function(n,a){const p=te({props:n,name:"MuiMenuItem"}),{autoFocus:h=!1,component:j="li",dense:c=!1,divider:m=!1,disableGutters:f=!1,focusVisibleClassName:F,role:S="menuitem",tabIndex:v,className:$}=p,d=se(p,ye),C=o.useContext(W),T=o.useMemo(()=>({dense:c||C.dense||!1,disableGutters:f}),[C.dense,c,f]),g=o.useRef(null);ae(()=>{h&&g.current&&g.current.focus()},[h]);const r=I({},p,{dense:T.dense,divider:m,disableGutters:f}),l=je(p),M=re(g,a);let _;return p.disabled||(_=v!==void 0?v:-1),t.jsx(W.Provider,{value:T,children:t.jsx(ve,I({ref:M,role:S,tabIndex:_,component:j,focusVisibleClassName:G(l.focusVisible,F),className:G(l.root,$)},d,{ownerState:r,classes:l}))})}),ke=Ce,Ie=o.lazy(()=>q(()=>import("./Card-CsTsOkI5.js"),__vite__mapDeps([0,1,2,3,4]))),Se=o.lazy(()=>q(()=>import("./NotFound-Czbnq1yp.js"),__vite__mapDeps([5,1,2]))),$e=[{name:"LATEST",value:"createdAt_desc"},{name:"OLDEST",value:"createdAt_asc"},{name:"PRICE LOW TO HIGH",value:"regularPrice_asc"},{name:"PRICE HIGH TO LOW",value:"regularPrice_desc"}];var w=0;const Fe=()=>{const[e,n]=o.useState({searchTerm:"",type:"all",offer:!1,parking:!1,furnished:!1,sort:"desc",order:"createdAt"}),[a,p]=oe(),h=le(),[j,c]=o.useState(!1),[m,f]=o.useState({}),[F,S]=o.useState(!1),[v,$]=o.useState(null),[d,C]=o.useState(!1),T=ie(),g=ce(),r=de(g.breakpoints.down("md")),l=s=>{n(i=>{if(s.target.name==="sort_order"){const L=s.target.value.split("_")[0],O=s.target.value.split("_")[1];return{...i,sort:O,order:L}}if(s.target.name==="offer"||s.target.name==="parking"||s.target.name==="furnished")return{...i,[s.target.name]:s.target.name==="offer"?!e.offer:s.target.name==="parking"?!e.parking:!e.furnished};if(s.target.name==="type")return{...i,[s.target.name]:s.target.value};if(s.target.name==="searchTerm")return{...i,[s.target.name]:s.target.value}})},M=async()=>{try{S(!0);const s=await N.get(`${U}api/listing/get?${a.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});s.data.listings.length>8?c(!0):c(!1),f(s.data.listings),$(null)}catch(s){$(s.message)}finally{S(!1)}};o.useEffect(()=>{const s=a.get("searchTerm"),i=a.get("type"),L=a.get("parking"),O=a.get("furnished"),A=a.get("order"),B=a.get("sort"),V=a.get("offer");n({searchTerm:s??"",type:i??"all",parking:!(L==null||L=="false"),furnished:!(O==null||O=="false"),order:A??"createdAt",sort:B??"desc",offer:!(V==null||V=="false")}),w=0,M()},[h.search]);const _=()=>{a.set("searchTerm",e.searchTerm),a.set("type",e.type),a.set("parking",e.parking),a.set("furnished",e.furnished),a.set("offer",e.offer),a.set("sort",e.sort),a.set("order",e.order),T(`/search?${a.toString()}`)},Q=async()=>{const s=await N.get(`${U}api/listing/get?${a.toString()}&startIndex=${m.length}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});w=0,f([...m,...s.data.listings]),s.data.listings.length<9&&c(!1)};return o.useEffect(()=>{r||C(!0)},[r]),t.jsx(t.Fragment,{children:t.jsx(u,{children:t.jsxs(E,{container:!0,children:[d&&t.jsx(me,{in:d,mountOnEnter:!0,unmountOnExit:!0,style:{transitionDelay:d?"500ms":"0ms"},children:t.jsxs(E,{sx:{position:r?"static":"fixed",top:70,left:0,bottom:0,width:"100%",overflowY:"auto",paddingRight:g.spacing(2),padding:r?.5:2,borderRight:r?"0px":"1px solid gray",minHeight:r?0:"91.2vh"},item:!0,xs:12,md:3,children:[t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2},children:[t.jsx(x,{component:"label",children:"Search:"}),t.jsx(ue,{variant:"outlined",size:"small",name:"searchTerm",value:e.searchTerm,onChange:l,placeholder:"type here...",children:"Search"})]}),t.jsx(x,{mt:2,component:"label",display:"block",children:"Type:"}),t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:[t.jsx(y,{value:"all",label:"Rent & Sale",labelPlacement:"end",name:"type",onChange:l,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="all"})}),t.jsx(y,{value:"rent",label:"Rent",labelPlacement:"end",name:"type",onChange:l,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="rent"})}),t.jsx(y,{value:"sell",label:"Sell",labelPlacement:"end",name:"type",onChange:l,control:t.jsx(b,{size:r?"small":"medium",checked:e.type==="sell"})})]}),t.jsx(x,{mt:2,component:"label",display:"block",children:"Special:"}),t.jsx(u,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:t.jsx(y,{value:e.offer,label:"Offer",labelPlacement:"end",name:"offer",onChange:l,control:t.jsx(b,{size:r?"small":"medium",checked:!!(e!=null&&e.offer)})})}),t.jsx(x,{mt:2,component:"label",display:"block",children:"Amenties:"}),t.jsxs(u,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:[t.jsx(y,{value:e.parking,label:"Parking",labelPlacement:"end",name:"parking",onChange:l,control:t.jsx(b,{size:r?"small":"medium",checked:e.parking})}),t.jsx(y,{value:e.furnished,label:"furnished",labelPlacement:"end",name:"furnished",onChange:l,control:t.jsx(b,{size:r?"small":"medium",checked:e.furnished})})]}),t.jsx(x,{mt:2,mb:1,component:"label",display:"block",mr:.5,children:"Sort:"}),t.jsx(u,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:t.jsx(pe,{id:"demo-simple-select",name:"sort_order",defaultValue:"createdAt_desc",value:`${e.order}_${e.sort}`,size:"small",fullWidth:!0,onChange:l,children:$e.map((s,i)=>t.jsx(ke,{value:s.value,children:s.name},i))})}),t.jsx(u,{children:t.jsx(R,{onClick:_,fullWidth:!0,variant:"contained",children:"Search"})})]})}),r&&t.jsx(R,{size:"small",sx:{mt:d?0:10,color:d?"red":"green"},onClick:()=>{C(!d)},children:d?"Close Filter Section":"Open Filter Section"}),t.jsx(E,{sx:{position:r?"static":"relative",top:70,marginLeft:"auto",paddingLeft:r?0:g.spacing(3),width:"100%",overflowY:"auto"},item:!0,xs:12,md:9,children:t.jsx(u,{children:F?t.jsx(x,{children:"Loading..."}):v!==null?t.jsx(x,{children:v}):m.length==0?t.jsx(o.Suspense,{fallback:t.jsx(H,{}),children:t.jsx(Se,{})}):t.jsxs(t.Fragment,{children:[t.jsx(u,{sx:{padding:2,display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:4},children:m.length>0&&m.map((s,i)=>(w=500+i*100,t.jsx(o.Suspense,{fallback:t.jsx(H,{}),children:t.jsx(Ie,{listing:s,transition:!0,delay:w})},i)))}),j&&t.jsx(R,{variant:"outlined",sx:{mb:5},onClick:Q,children:"Show more..."})]})})})]})})})};export{Fe as default};
