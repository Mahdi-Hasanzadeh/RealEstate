function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Card-DKUPohTm.js","assets/index-CiIZgPDR.js","assets/index-BvsXOxI1.css","assets/Zoom-B4GVGZZ4.js","assets/formatDistanceToNow-aDLjEcHe.js","assets/NotFound-qm2qpPNA.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{p as z,o as J,t as K,a2 as X,a3 as ee,w as I,a4 as P,r as l,y as te,z as se,a5 as V,a6 as ae,a7 as re,j as t,A as G,D as ne,_ as Q,a8 as le,W as oe,e as ie,u as ce,a as de,B as u,s as ue,T as x,g as pe,a9 as me,i as R,F as N,c as H,U}from"./index-CiIZgPDR.js";import{G as E,F as y}from"./Grid-CtoZyti-.js";import{Z as ge}from"./Zoom-B4GVGZZ4.js";import{C as b}from"./Checkbox-Dsjw9F1T.js";import{d as D}from"./dividerClasses-UQKgTrc0.js";import"./styled-BAVA0Wq_.js";const fe=z("MuiListItemIcon",["root","alignItemsFlexStart"]),Y=fe,xe=z("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Z=xe;function he(e){return J("MuiMenuItem",e)}const ye=z("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),k=ye,be=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],je=(e,r)=>{const{ownerState:a}=e;return[r.root,a.dense&&r.dense,a.divider&&r.divider,!a.disableGutters&&r.gutters]},Ce=e=>{const{disabled:r,dense:a,divider:p,disableGutters:h,selected:j,classes:c}=e,g=ne({root:["root",a&&"dense",r&&"disabled",!h&&"gutters",p&&"divider",j&&"selected"]},he,c);return I({},c,g)},ve=K(X,{shouldForwardProp:e=>ee(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:je})(({theme:e,ownerState:r})=>I({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!r.disableGutters&&{paddingLeft:16,paddingRight:16},r.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${k.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${k.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${k.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${D.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${D.inset}`]:{marginLeft:52},[`& .${Z.root}`]:{marginTop:0,marginBottom:0},[`& .${Z.inset}`]:{paddingLeft:36},[`& .${Y.root}`]:{minWidth:36}},!r.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},r.dense&&I({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${Y.root} svg`]:{fontSize:"1.25rem"}}))),ke=l.forwardRef(function(r,a){const p=te({props:r,name:"MuiMenuItem"}),{autoFocus:h=!1,component:j="li",dense:c=!1,divider:m=!1,disableGutters:g=!1,focusVisibleClassName:M,role:S="menuitem",tabIndex:C,className:$}=p,d=se(p,be),v=l.useContext(V),T=l.useMemo(()=>({dense:c||v.dense||!1,disableGutters:g}),[v.dense,c,g]),f=l.useRef(null);ae(()=>{h&&f.current&&f.current.focus()},[h]);const n=I({},p,{dense:T.dense,divider:m,disableGutters:g}),o=Ce(p),F=re(f,a);let _;return p.disabled||(_=C!==void 0?C:-1),t.jsx(V.Provider,{value:T,children:t.jsx(ve,I({ref:F,role:S,tabIndex:_,component:j,focusVisibleClassName:G(o.focusVisible,M),className:G(o.root,$)},d,{ownerState:n,classes:o}))})}),Ie=ke,Se=l.lazy(()=>Q(()=>import("./Card-DKUPohTm.js"),__vite__mapDeps([0,1,2,3,4]))),$e=l.lazy(()=>Q(()=>import("./NotFound-qm2qpPNA.js"),__vite__mapDeps([5,1,2]))),Te=[{name:"LATEST",value:"createdAt_desc"},{name:"OLDEST",value:"createdAt_asc"},{name:"PRICE LOW TO HIGH",value:"regularPrice_asc"},{name:"PRICE HIGH TO LOW",value:"regularPrice_desc"}];var w=0;const Fe=()=>{const[e,r]=l.useState({searchTerm:"",type:"all",offer:!1,parking:!1,furnished:!1,sort:"desc",order:"createdAt"}),[a,p]=le(),h=oe(),[j,c]=l.useState(!1),[m,g]=l.useState({}),[M,S]=l.useState(!1),[C,$]=l.useState(null),[d,v]=l.useState(!1),T=ie(),f=ce(),n=de(f.breakpoints.down("md")),o=s=>{r(i=>{if(s.target.name==="sort_order"){const L=s.target.value.split("_")[0],O=s.target.value.split("_")[1];return{...i,sort:O,order:L}}if(s.target.name==="offer"||s.target.name==="parking"||s.target.name==="furnished")return{...i,[s.target.name]:s.target.name==="offer"?!e.offer:s.target.name==="parking"?!e.parking:!e.furnished};if(s.target.name==="type")return{...i,[s.target.name]:s.target.value};if(s.target.name==="searchTerm")return{...i,[s.target.name]:s.target.value}})},F=async()=>{try{S(!0);const s=await H.get(`${U}api/listing/get?${a.toString()}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});s.data.listings.length>8?c(!0):c(!1),g(s.data.listings),$(null)}catch(s){$(s.message)}finally{S(!1)}};l.useEffect(()=>{const s=a.get("searchTerm"),i=a.get("type"),L=a.get("parking"),O=a.get("furnished"),A=a.get("order"),B=a.get("sort"),W=a.get("offer");r({searchTerm:s??"",type:i??"all",parking:!(L==null||L=="false"),furnished:!(O==null||O=="false"),order:A??"createdAt",sort:B??"desc",offer:!(W==null||W=="false")}),w=0,F()},[h.search]);const _=()=>{a.set("searchTerm",e.searchTerm),a.set("type",e.type),a.set("parking",e.parking),a.set("furnished",e.furnished),a.set("offer",e.offer),a.set("sort",e.sort),a.set("order",e.order),T(`/search?${a.toString()}`)},q=async()=>{const s=await H.get(`${U}api/listing/get?${a.toString()}&startIndex=${m.length}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});w=0,g([...m,...s.data.listings]),s.data.listings.length<9&&c(!1)};return l.useEffect(()=>{n||v(!0)},[n]),t.jsx(t.Fragment,{children:t.jsx(u,{className:ue.backgroundcolor,children:t.jsxs(E,{container:!0,children:[d&&t.jsx(ge,{in:d,mountOnEnter:!0,unmountOnExit:!0,style:{transitionDelay:d?"500ms":"0ms"},children:t.jsxs(E,{sx:{position:n?"static":"fixed",width:"100%",overflowY:"auto",paddingRight:f.spacing(2),padding:n?.5:2,borderRight:n?"0px":"1px solid gray",minHeight:n?0:"93vh"},item:!0,xs:12,md:3,children:[t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:2},children:[t.jsx(x,{component:"label",children:"Search:"}),t.jsx(pe,{variant:"outlined",size:"small",name:"searchTerm",value:e.searchTerm,onChange:o,placeholder:"type here...",children:"Search"})]}),t.jsx(x,{mt:2,component:"label",display:"block",children:"Type:"}),t.jsxs(u,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:[t.jsx(y,{value:"all",label:"Rent & Sale",labelPlacement:"end",name:"type",onChange:o,control:t.jsx(b,{size:n?"small":"medium",checked:e.type==="all"})}),t.jsx(y,{value:"rent",label:"Rent",labelPlacement:"end",name:"type",onChange:o,control:t.jsx(b,{size:n?"small":"medium",checked:e.type==="rent"})}),t.jsx(y,{value:"sell",label:"Sell",labelPlacement:"end",name:"type",onChange:o,control:t.jsx(b,{size:n?"small":"medium",checked:e.type==="sell"})})]}),t.jsx(x,{mt:2,component:"label",display:"block",children:"Special:"}),t.jsx(u,{sx:{display:"flex",justifyContent:"flex-start",flexWrap:"wrap",alignItems:"center",mb:1.5},children:t.jsx(y,{value:e.offer,label:"Offer",labelPlacement:"end",name:"offer",onChange:o,control:t.jsx(b,{size:n?"small":"medium",checked:!!(e!=null&&e.offer)})})}),t.jsx(x,{mt:2,component:"label",display:"block",children:"Amenties:"}),t.jsxs(u,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:[t.jsx(y,{value:e.parking,label:"Parking",labelPlacement:"end",name:"parking",onChange:o,control:t.jsx(b,{size:n?"small":"medium",checked:e.parking})}),t.jsx(y,{value:e.furnished,label:"furnished",labelPlacement:"end",name:"furnished",onChange:o,control:t.jsx(b,{size:n?"small":"medium",checked:e.furnished})})]}),t.jsx(x,{mt:2,mb:1,component:"label",display:"block",mr:.5,children:"Sort:"}),t.jsx(u,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",mb:1.5,justifyContent:"flex-start"},children:t.jsx(me,{id:"demo-simple-select",name:"sort_order",defaultValue:"createdAt_desc",value:`${e.order}_${e.sort}`,size:"small",fullWidth:!0,onChange:o,children:Te.map((s,i)=>t.jsx(Ie,{value:s.value,children:s.name},i))})}),t.jsx(u,{children:t.jsx(R,{onClick:_,fullWidth:!0,variant:"contained",children:"Search"})})]})}),n&&t.jsx(R,{size:"small",sx:{mt:d?0:2,color:d?"red":"green"},onClick:()=>{v(!d)},children:d?"Close Filter Section":"Open Filter Section"}),t.jsx(E,{sx:{marginLeft:"auto",paddingLeft:n?0:f.spacing(3),width:"100%",overflowY:"auto"},item:!0,xs:12,md:9,children:t.jsx(u,{children:M?t.jsx(x,{children:"Loading..."}):C!==null?t.jsx(x,{children:C}):m.length==0?t.jsx(l.Suspense,{fallback:t.jsx(N,{}),children:t.jsx($e,{})}):t.jsxs(t.Fragment,{children:[t.jsx(u,{sx:{padding:2,display:"flex",justifyContent:"flex-start",flexWrap:"wrap",gap:4},children:m.length>0&&m.map((s,i)=>(w=500+i*100,t.jsx(l.Suspense,{fallback:t.jsx(N,{}),children:t.jsx(Se,{listing:s,transition:!0,delay:w})},i)))}),j&&t.jsx(R,{variant:"outlined",sx:{mb:5},onClick:q,children:"Show more..."})]})})})]})})})};export{Fe as default};
