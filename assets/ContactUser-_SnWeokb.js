import{r as a,j as e,B as l,T as c,L as d,h as m,f as p}from"./index-SUBBCwgC.js";import{a as y,U as f}from"./PortConfig-CL2sLOPV.js";const v="+93",$=({userRef:h,name:n,isSmall:r})=>{const[s,x]=a.useState(),[o,g]=a.useState(null),[i,u]=a.useState(""),b=t=>{u(t.target.value)},j=async()=>{try{const t=await y.get(`${f}api/user/userInfo/${h}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});x(t.data)}catch(t){g(t.message),console.log(t.message)}};return a.useEffect(()=>{j()},[]),e.jsx(e.Fragment,{children:o?e.jsx("h1",{children:o}):e.jsxs(e.Fragment,{children:[(s==null?void 0:s.mobileNumber)&&e.jsxs(l,{sx:{display:"flex",columnGap:1,alignItems:"center",mb:2},children:[e.jsxs(c,{variant:"body1",fontWeight:"bold",fontSize:"1.1em",children:["Mobile Number: ",v,"-",s==null?void 0:s.mobileNumber.slice(1)]}),e.jsx(d,{to:`tel:+93${s==null?void 0:s.mobileNumber.slice(1)}`,children:e.jsx(m,{size:"small",variant:"contained",sx:{backgroundColor:"green",fontSize:"1em"},children:"Call"})})]}),e.jsxs(c,{sx:{textAlign:"justify",fontSize:"1.1em"},variant:"body1",children:["Contact"," ",e.jsx("span",{style:{fontWeight:"bold"},children:s==null?void 0:s.username})," ","for",e.jsxs("span",{style:{fontWeight:"bold"},children:[" ",n||""]})," ","via E-mail"]}),e.jsx(p,{name:"message",value:i,onChange:b,variant:"outlined",size:"small",multiline:!0,rows:4,placeholder:"Enter your message here...",sx:{width:r?"100%":"50%",mt:.3}}),e.jsx(l,{children:e.jsx(d,{to:`mailto:${s==null?void 0:s.email}?subject=Regarding ${n}&body=${i}`,children:e.jsx(m,{size:r?"small":"medium",variant:"contained",sx:{backgroundColor:"GrayText",width:r?"100%":"50%",mt:3},children:"Send Message"})})})]})})};export{$ as default};
