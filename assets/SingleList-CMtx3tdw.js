function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ContactUser-B9DGbk81.js","assets/index-Dq8bkDyD.js","assets/index-B3EqNP97.css","assets/PortConfig-CL2sLOPV.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{Q as d,j as e,r as o,_ as U,R as W,d as D,c as T,e as E,u as F,a as N,B as n,T as t,h as i,U as G,V as $,b as Q,F as S,W as q}from"./index-Dq8bkDyD.js";import{a as K,U as O}from"./PortConfig-CL2sLOPV.js";import{l as Y,S as J,M as X,d as w,a as C}from"./index-CIDmmKMY.js";import{C as k}from"./Container-banvJYEF.js";import{f as Z}from"./formatDistanceToNow-aDLjEcHe.js";import"./styled-BH6ihpp3.js";const ee=d(e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M9 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m3 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m0-3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-8-4c0-2.76 2.24-5 5-5s5 2.24 5 5c0 .55-.45 1-1 1H8c-.55 0-1-.45-1-1"}),"BathroomRounded"),ae=d([e.jsx("path",{d:"M16.5 12h-9c-.55 0-1 .45-1 1v1h11v-1c0-.55-.45-1-1-1M7.25 8.5h4v2h-4zm5.5 0h4v2h-4z"},"0"),e.jsx("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-1.75 15c-.41 0-.75-.34-.75-.75v-.75h-11v.75c0 .41-.34.75-.75.75S5 16.66 5 16.25v-3.08c0-.66.25-1.26.65-1.72V9c0-1.1.9-2 2-2H11c.37 0 .72.12 1 .32.28-.2.63-.32 1-.32h3.35c1.1 0 2 .9 2 2v2.45c.4.46.65 1.06.65 1.72v3.08c0 .41-.34.75-.75.75"},"1")],"BedroomParentRounded"),se=d([e.jsx("path",{d:"M21 9c-1.1 0-2 .9-2 2v4H5v-4c0-1.1-.9-2-2-2s-2 .9-2 2v5c0 1.65 1.35 3 3 3v1c0 .55.45 1 1 1s1-.45 1-1v-1h12v1c0 .55.45 1 1 1s1-.45 1-1v-1c1.65 0 3-1.35 3-3v-5c0-1.1-.9-2-2-2"},"0"),e.jsx("path",{d:"M7 11v2h10v-2c0-1.86 1.28-3.41 3-3.86V6c0-1.65-1.35-3-3-3H7C5.35 3 4 4.35 4 6v1.14c1.72.45 3 2 3 3.86"},"1")],"ChairRounded"),te=d(e.jsx("path",{d:"M12.79 3H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2s2-.9 2-2v-4h3c3.57 0 6.42-3.13 5.95-6.79C18.56 5.19 15.84 3 12.79 3m.41 8H10V7h3.2c1.1 0 2 .9 2 2s-.9 2-2 2"}),"LocalParkingRounded"),ne=d(e.jsx("path",{d:"M15 11V5.83c0-.53-.21-1.04-.59-1.41L12.7 2.71a.9959.9959 0 0 0-1.41 0l-1.7 1.7C9.21 4.79 9 5.3 9 5.83V7H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-1.1-.9-2-2-2zm-8 8H5v-2h2zm0-4H5v-2h2zm0-4H5V9h2zm6 8h-2v-2h2zm0-4h-2v-2h2zm0-4h-2V9h2zm0-4h-2V5h2zm6 12h-2v-2h2zm0-4h-2v-2h2z"}),"LocationCityRounded"),oe=o.lazy(()=>U(()=>import("./ContactUser-B9DGbk81.js"),__vite__mapDeps([0,1,2,3]))),re=Y.autoPlay(J),me=()=>{var y;const[c,h]=o.useState(0),{listingId:R}=W(),m=D(),z=T(),x=E(s=>s.persistData.user.userInfo),[a,A]=o.useState(null),u=((y=a==null?void 0:a.imageURLs)==null?void 0:y.length)||0,[p,j]=o.useState(null),[L,v]=o.useState(!1),[f,P]=o.useState(!0),l=F(),b=N(l.breakpoints.down("sm")),H=async()=>{if(x==null){console.log("Please login");return}v(!0);try{const s=await K.get(`${O}api/listing/userListing/${R}`,{headers:{Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});if(s.data.success===!1){console.log(s.data.message),j(s.data.message);return}A(s.data)}catch(s){console.log(s.message),j(s.message)}finally{v(!1)}},M=()=>{P(!1)},V=(s,r)=>s-r;o.useEffect(()=>{H()},[]);const g=s=>{const r="/"+window.location.pathname.split("/").slice(2).join("/");z(q(r)),s=="login"?m("/signin"):m("/signup")},B=()=>{h(s=>s+1)},I=()=>{h(s=>s-1)},_=s=>{h(s)};return e.jsx(e.Fragment,{children:x==null?e.jsxs(n,{sx:{position:"relative",top:50},padding:2,children:[e.jsx(t,{sx:{textAlign:"center",mb:1.5},variant:"body1",children:"Please first login to your account or create a new one"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"center",columnGap:2},children:[e.jsx(i,{variant:"contained",onClick:()=>{g("login")},size:"small",children:"Login"}),e.jsx(i,{variant:"contained",onClick:()=>{g("signup")},size:"small",children:"Sign up"})]})]}):L?e.jsx("main",{style:{position:"relative",top:50,textAlign:"center"},children:e.jsx("h2",{children:"Loading..."})}):p?e.jsx("h2",{children:p}):a&&e.jsxs("main",{children:[e.jsx("div",{children:e.jsxs(k,{maxWidth:"lg",sx:{mt:4},children:[e.jsx(G,{square:!0,elevation:1,sx:{display:"flex",alignItems:"center",height:50,pl:2,bgcolor:$,mt:10},children:e.jsx(t,{children:a.name})}),e.jsx(re,{axis:l.direction==="rtl"?"x-reverse":"x",index:c,onChangeIndex:_,enableMouseEvents:!0,children:a==null?void 0:a.imageURLs.map((s,r)=>e.jsx("div",{children:Math.abs(c-r)<=2?e.jsx(n,{component:"img",sx:{height:{sm:450,md:500},display:"block",width:"100%",overflow:"hidden",objectFit:{xs:"contain",sm:"fill"},objectPosition:"center"},src:s,alt:s}):null},r))}),e.jsx(X,{steps:u,position:"static",activeStep:c,nextButton:e.jsxs(i,{size:"small",onClick:B,disabled:c===u-1,children:["Next",l.direction==="rtl"?e.jsx(w,{}):e.jsx(C,{})]}),backButton:e.jsxs(i,{size:"small",onClick:I,disabled:c===0,children:[l.direction==="rtl"?e.jsx(C,{}):e.jsx(w,{}),"Back"]})})]})}),e.jsxs(k,{maxWidth:"lg",sx:{mb:10},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",md:"center"},gap:1.5},children:[e.jsxs(t,{variant:"h5",fontWeight:"bold",children:[a==null?void 0:a.name," "]}),e.jsxs(t,{variant:"h5",fontWeight:"bold",children:[V(a==null?void 0:a.regularPrice,a==null?void 0:a.discountPrice)," ",(a==null?void 0:a.type)==="rent"?"/ month":null]})]}),e.jsxs(n,{mt:2,display:"flex",alignItems:"flex-end",gap:1,children:[e.jsx(ne,{color:"success",sx:{verticalAlign:"middle"}})," ",e.jsx(t,{variant:"body1",children:a==null?void 0:a.address})," "]}),e.jsxs(n,{mt:1.5,mb:1,sx:{display:"flex",gap:1},children:[e.jsx(t,{variant:"body1",sx:{backgroundColor:"red",width:"200px",textAlign:"center",color:"white",fontSize:"19px",borderRadius:5},children:(a==null?void 0:a.type)=="rent"?"Rent":"Sell"}),(a==null?void 0:a.offer)&&e.jsx(t,{variant:"body1",sx:{backgroundColor:"green",width:"200px",textAlign:"center",color:"white",fontSize:"19px",borderRadius:5},children:"AFG"+(a==null?void 0:a.discountPrice)})]}),e.jsx(n,{children:e.jsxs(t,{variant:"body1",width:"80%",sx:{wordWrap:"break-word",textAlign:"justify"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:"Description -"})," ",a==null?void 0:a.description]})}),e.jsx(n,{mt:1,mb:1,children:e.jsxs(t,{variant:"body2",color:Q,children:[(a==null?void 0:a.createdAt)&&Z(new Date(a==null?void 0:a.createdAt))," ","ago"]})}),e.jsxs(n,{sx:{display:"flex",justifyContent:"flex-start",gap:2,alignItems:"center",flexWrap:"wrap-reverse"},children:[e.jsxs(t,{color:"green",variant:"body1",children:[" ",e.jsx(ae,{sx:{verticalAlign:"middle"}})," ",a==null?void 0:a.bedrooms," bed",(a==null?void 0:a.bedrooms)!==1&&"s"]}),e.jsxs(t,{color:"green",variant:"body1",children:[" ",e.jsx(ee,{sx:{verticalAlign:"middle"}})," ",a==null?void 0:a.bath," bath",(a==null?void 0:a.bath)!==1&&"s"]}),e.jsxs(t,{color:"green",variant:"body1",children:[" ",e.jsx(te,{sx:{verticalAlign:"middle"}})," ",a!=null&&a.parking?"Parking spot":"No Parking"]}),e.jsxs(t,{color:"green",variant:"body1",children:[" ",e.jsx(se,{sx:{verticalAlign:"middle"}})," ",a!=null&&a.furnished?"Furnished":"Unfurnished"]})]}),e.jsx(o.Suspense,{fallback:e.jsx(S,{}),children:!f&&e.jsx(n,{sx:{mt:2.5},children:e.jsx(oe,{userRef:a.userRef,name:a.name,isSmall:b})})}),e.jsx(o.Suspense,{fallback:e.jsx(S,{}),children:x.id!==a.userRef&&f&&e.jsx(n,{children:e.jsx(i,{onClick:M,variant:"contained",fullWidth:!0,size:b?"small":"medium",sx:{backgroundColor:"GrayText",width:"50%",mt:3},children:"Contact Landlord"})})})]})]})})};export{me as default};
